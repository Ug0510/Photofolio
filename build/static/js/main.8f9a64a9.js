/*! For license information please see main.8f9a64a9.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(it){var r=it}Reflect.construct(e,[],t)}else{try{t.call()}catch(it){r=it}e.call(t.prototype)}else{try{throw Error()}catch(it){r=it}e()}}catch(it){if(it&&r&&"string"===typeof it.stack){for(var i=it.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Es){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,_e=null;function Ce(e){if(e=_i(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=Ti(t),Se(e.stateNode,e.type,t))}}function Te(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Ie(){if(ke){var e=ke,t=_e;if(_e=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==ke||null!==_e)&&(Ne(),Ie())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=Ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Re=!1}function Oe(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(xf){this.onError(xf)}}var Me=!1,Fe=null,Ve=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,s,o,a,l){Me=!1,Fe=null,Oe.apply(ze,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(je(e)!==e)throw Error(s(188))}function Ke(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,st=i.unstable_IdlePriority,ot=null,at=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/ct|0)|0},ut=Math.log,ct=Math.LN2;var ht=64,dt=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=pt(a):0!==(s&=o)&&(r=pt(s))}else 0!==(o=n&~i)?r=pt(o):0!==s&&(r=pt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-lt(t)),r|=e[n],t&=~i;return r}function gt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function bt(){var e=ht;return 0===(4194240&(ht<<=1))&&(ht=64),e}function wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Et(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function St(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ct,Tt,It,xt,Nt,At=!1,Dt=[],Lt=null,Rt=null,Pt=null,Ot=new Map,Mt=new Map,Ft=[],Vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function zt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=ki(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Nt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function qt(e,t,n){jt(e)&&n.delete(t)}function Ht(){At=!1,null!==Lt&&jt(Lt)&&(Lt=null),null!==Rt&&jt(Rt)&&(Rt=null),null!==Pt&&jt(Pt)&&(Pt=null),Ot.forEach(qt),Mt.forEach(qt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function Qt(e){function t(t){return Kt(t,e)}if(0<Dt.length){Kt(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&Kt(Lt,e),null!==Rt&&Kt(Rt,e),null!==Pt&&Kt(Pt,e),Ot.forEach(t),Mt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)Bt(n),null===n.blockedOn&&Ft.shift()}var Wt=w.ReactCurrentBatchConfig,Gt=!0;function Yt(e,t,n,r){var i=kt,s=Wt.transition;Wt.transition=null;try{kt=1,Xt(e,t,n,r)}finally{kt=i,Wt.transition=s}}function $t(e,t,n,r){var i=kt,s=Wt.transition;Wt.transition=null;try{kt=4,Xt(e,t,n,r)}finally{kt=i,Wt.transition=s}}function Xt(e,t,n,r){if(Gt){var i=Zt(e,t,n,r);if(null===i)Yr(e,t,r,Jt,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Lt=zt(Lt,e,t,n,r,i),!0;case"dragenter":return Rt=zt(Rt,e,t,n,r,i),!0;case"mouseover":return Pt=zt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,zt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mt.set(s,zt(Mt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Vt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&Ct(s),null===(s=Zt(e,t,n,r))&&Yr(e,t,r,Jt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var Jt=null;function Zt(e,t,n,r){if(Jt=null,null!==(e=ki(e=Ee(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function en(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case tt:return 4;case nt:case rt:return 16;case st:return 536870912;default:return 16}default:return 16}}var tn=null,nn=null,rn=null;function sn(){if(rn)return rn;var e,t,n=nn,r=n.length,i="value"in tn?tn.value:tn.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return rn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function ln(){return!1}function un(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:ln,this.isPropagationStopped=ln,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,hn,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),mn=F({},fn,{view:0,detail:0}),gn=un(mn),yn=F({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,hn=e.screenY-dn.screenY):hn=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:hn}}),vn=un(yn),bn=un(F({},yn,{dataTransfer:0})),wn=un(F({},mn,{relatedTarget:0})),En=un(F({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),Sn=F({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=un(Sn),_n=un(F({},fn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Nn(){return xn}var An=F({},mn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=un(An),Ln=un(F({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(F({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Pn=un(F({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=un(On),Fn=[9,13,27,32],Vn=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var zn=c&&"TextEvent"in window&&!Un,jn=c&&(!Vn||Un&&8<Un&&11>=Un),qn=String.fromCharCode(32),Hn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function $n(e,t,n,r){Te(r),0<(t=Xr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Jn=null;function Zn(e){qr(e,0)}function er(e){if(W(Ci(e)))return e}function tr(e,t){if("change"===e)return t}var nr=!1;if(c){var rr;if(c){var ir="oninput"in document;if(!ir){var sr=document.createElement("div");sr.setAttribute("oninput","return;"),ir="function"===typeof sr.oninput}rr=ir}else rr=!1;nr=rr&&(!document.documentMode||9<document.documentMode)}function or(){Xn&&(Xn.detachEvent("onpropertychange",ar),Jn=Xn=null)}function ar(e){if("value"===e.propertyName&&er(Jn)){var t=[];$n(t,Jn,e,Ee(e)),De(Zn,t)}}function lr(e,t,n){"focusin"===e?(or(),Jn=n,(Xn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&or()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return er(Jn)}function cr(e,t){if("click"===e)return er(t)}function hr(e,t){if("input"===e||"change"===e)return er(t)}var dr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function fr(e,t){if(dr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!dr(e[i],t[i]))return!1}return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Tf){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function br(e){var t=yr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gr(n.ownerDocument.documentElement,n)){if(null!==r&&vr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=mr(n,s);var o=mr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wr=c&&"documentMode"in document&&11>=document.documentMode,Er=null,Sr=null,kr=null,_r=!1;function Cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==Er||Er!==G(r)||("selectionStart"in(r=Er)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&fr(kr,r)||(kr=r,0<(r=Xr(Sr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},xr={},Nr={};function Ar(e){if(xr[e])return xr[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return xr[e]=n[t];return e}c&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var Dr=Ar("animationend"),Lr=Ar("animationiteration"),Rr=Ar("animationstart"),Pr=Ar("transitionend"),Or=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){Or.set(e,t),l(t,[e])}for(var Vr=0;Vr<Mr.length;Vr++){var Ur=Mr[Vr];Fr(Ur.toLowerCase(),"on"+(Ur[0].toUpperCase()+Ur.slice(1)))}Fr(Dr,"onAnimationEnd"),Fr(Lr,"onAnimationIteration"),Fr(Rr,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,u),s=l}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Hr(e,t){var n=t[wi];void 0===n&&(n=t[wi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Kr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Qr]){e[Qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Kr(t,!1,e),Kr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qr]||(t[Qr]=!0,Kr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(en(t)){case 1:var i=Yt;break;case 4:i=$t;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ki(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}De((function(){var r=s,i=Ee(n),o=[];e:{var a=Or.get(e);if(void 0!==a){var l=pn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":u="focus",l=wn;break;case"focusout":u="blur",l=wn;break;case"beforeblur":case"afterblur":l=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Dr:case Lr:case Rr:l=En;break;case Pr:l=Pn;break;case"scroll":l=gn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Le(p,d))&&c.push($r(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ki(u)&&!u[bi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ki(u):null)&&(u!==(h=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Ln,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:Ci(l),f=null==u?a:Ci(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ki(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Jr(f))p++;for(f=0,m=d;m;m=Jr(m))f++;for(;0<p-f;)c=Jr(c),p--;for(;0<f-p;)d=Jr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Jr(c),d=Jr(d)}c=null}else c=null;null!==l&&Zr(o,a,l,c,!1),null!==u&&null!==h&&Zr(o,h,u,c,!0)}if("select"===(l=(a=r?Ci(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=tr;else if(Yn(a))if(nr)g=hr;else{g=ur;var y=lr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=cr);switch(g&&(g=g(e,r))?$n(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?Ci(r):window,e){case"focusin":(Yn(y)||"true"===y.contentEditable)&&(Er=y,Sr=r,kr=null);break;case"focusout":kr=Sr=Er=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Cr(o,n,i);break;case"selectionchange":if(wr)break;case"keydown":case"keyup":Cr(o,n,i)}var v;if(Vn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Kn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(v=sn()):(nn="value"in(tn=i)?tn.value:tn.textContent,Wn=!0)),0<(y=Xr(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Qn(n))&&(b.data=v))),(v=zn?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(Hn=!0,qn);case"textInput":return(e=t.data)===qn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Vn&&Kn(e,t)?(e=sn(),rn=nn=tn=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}qr(o,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Le(e,n))&&r.unshift($r(e,s,i)),null!=(s=Le(e,t))&&r.push($r(e,s,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Le(n,s))&&o.unshift($r(n,l,a)):i||null!=(l=Le(n,s))&&o.push($r(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ei=/\r\n?/g,ti=/\u0000|\uFFFD/g;function ni(e){return("string"===typeof e?e:""+e).replace(ei,"\n").replace(ti,"")}function ri(e,t,n){if(t=ni(t),ni(e)!==t&&n)throw Error(s(425))}function ii(){}var si=null,oi=null;function ai(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var li="function"===typeof setTimeout?setTimeout:void 0,ui="function"===typeof clearTimeout?clearTimeout:void 0,ci="function"===typeof Promise?Promise:void 0,hi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ci?function(e){return ci.resolve(null).then(e).catch(di)}:li;function di(e){setTimeout((function(){throw e}))}function fi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Qt(t)}function pi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function mi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),yi="__reactFiber$"+gi,vi="__reactProps$"+gi,bi="__reactContainer$"+gi,wi="__reactEvents$"+gi,Ei="__reactListeners$"+gi,Si="__reactHandles$"+gi;function ki(e){var t=e[yi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bi]||n[yi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=mi(e);null!==e;){if(n=e[yi])return n;e=mi(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[yi]||e[bi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ci(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ti(e){return e[vi]||null}var Ii=[],xi=-1;function Ni(e){return{current:e}}function Ai(e){0>xi||(e.current=Ii[xi],Ii[xi]=null,xi--)}function Di(e,t){xi++,Ii[xi]=e.current,e.current=t}var Li={},Ri=Ni(Li),Pi=Ni(!1),Oi=Li;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Vi(){Ai(Pi),Ai(Ri)}function Ui(e,t,n){if(Ri.current!==Li)throw Error(s(168));Di(Ri,t),Di(Pi,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Oi=Ri.current,Di(Ri,e),Di(Pi,Pi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=zi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ai(Pi),Ai(Ri),Di(Ri,e)):Ai(Pi),Di(Pi,n)}var qi=null,Hi=!1,Ki=!1;function Qi(e){null===qi?qi=[e]:qi.push(e)}function Wi(){if(!Ki&&null!==qi){Ki=!0;var e=0,t=kt;try{var n=qi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qi=null,Hi=!1}catch(i){throw null!==qi&&(qi=qi.slice(e+1)),We(Ze,Wi),i}finally{kt=t,Ki=!1}}return null}var Gi=[],Yi=0,$i=null,Xi=0,Ji=[],Zi=0,es=null,ts=1,ns="";function rs(e,t){Gi[Yi++]=Xi,Gi[Yi++]=$i,$i=e,Xi=t}function is(e,t,n){Ji[Zi++]=ts,Ji[Zi++]=ns,Ji[Zi++]=es,es=e;var r=ts;e=ns;var i=32-lt(r)-1;r&=~(1<<i),n+=1;var s=32-lt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ts=1<<32-lt(t)+i|n<<i|r,ns=s+e}else ts=1<<s|n<<i|r,ns=e}function ss(e){null!==e.return&&(rs(e,1),is(e,1,0))}function os(e){for(;e===$i;)$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null;for(;e===es;)es=Ji[--Zi],Ji[Zi]=null,ns=Ji[--Zi],Ji[Zi]=null,ts=Ji[--Zi],Ji[Zi]=null}var as=null,ls=null,us=!1,cs=null;function hs(e,t){var n=Fu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ds(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,as=e,ls=pi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,as=e,ls=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==es?{id:ts,overflow:ns}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,as=e,ls=null,!0);default:return!1}}function fs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ps(e){if(us){var t=ls;if(t){var n=t;if(!ds(e,t)){if(fs(e))throw Error(s(418));t=pi(n.nextSibling);var r=as;t&&ds(e,t)?hs(r,n):(e.flags=-4097&e.flags|2,us=!1,as=e)}}else{if(fs(e))throw Error(s(418));e.flags=-4097&e.flags|2,us=!1,as=e}}}function ms(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;as=e}function gs(e){if(e!==as)return!1;if(!us)return ms(e),us=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ai(e.type,e.memoizedProps)),t&&(t=ls)){if(fs(e))throw ys(),Error(s(418));for(;t;)hs(e,t),t=pi(t.nextSibling)}if(ms(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ls=pi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ls=null}}else ls=as?pi(e.stateNode.nextSibling):null;return!0}function ys(){for(var e=ls;e;)e=pi(e.nextSibling)}function vs(){ls=as=null,us=!1}function bs(e){null===cs?cs=[e]:cs.push(e)}var ws=w.ReactCurrentBatchConfig;function Ss(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _s(e){return(0,e._init)(e._payload)}function Cs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&_s(s)===t.type)?((r=i(t,n.props)).ref=Ss(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=Ss(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=Ss(e,null,t),n.return=e,n;case S:return(t=Hu(t,e.mode,n)).return=e,t;case L:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Bu(t,e.mode,n,null)).return=e,t;ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case L:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);ks(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);ks(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),us&&rs(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return us&&rs(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),us&&rs(i,m),u}function g(i,a,l,u){var c=O(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),us&&rs(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return us&&rs(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),us&&rs(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===L&&_s(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=Ss(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((s=Bu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=zu(o.type,o.key,o.props,null,r.mode,l)).ref=Ss(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Hu(o,r.mode,l)).return=r,r=s}return a(r);case L:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(O(o))return g(r,s,o,l);ks(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=qu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Ts=Cs(!0),Is=Cs(!1),xs=Ni(null),Ns=null,As=null,Ds=null;function Ls(){Ds=As=Ns=null}function Rs(e){var t=xs.current;Ai(xs),e._currentValue=t}function Ps(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){Ns=e,Ds=As=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ca=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(Ds!==e)if(e={context:e,memoizedValue:t,next:null},null===As){if(null===Ns)throw Error(s(308));As=e,Ns.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Fs=null;function Vs(e){null===Fs?Fs=[e]:Fs.push(e)}function Us(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Vs(t)):(n.next=i.next,i.next=n),t.interleaved=n,zs(e,r)}function zs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Bs=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zs(e,n)}return null===(i=r.interleaved)?(t.next=t,Vs(r)):(t.next=i.next,i.next=t),r.interleaved=t,zs(e,n)}function Qs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}function Ws(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gs(e,t,n,r){var i=e.updateQueue;Bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Bs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=h}}function Ys(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var $s={},Xs=Ni($s),Js=Ni($s),Zs=Ni($s);function eo(e){if(e===$s)throw Error(s(174));return e}function to(e,t){switch(Di(Zs,t),Di(Js,e),Di(Xs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Xs),Di(Xs,t)}function no(){Ai(Xs),Ai(Js),Ai(Zs)}function ro(e){eo(Zs.current);var t=eo(Xs.current),n=le(t,e.type);t!==n&&(Di(Js,e),Di(Xs,n))}function io(e){Js.current===e&&(Ai(Xs),Ai(Js))}var so=Ni(0);function oo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function lo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=w.ReactCurrentDispatcher,co=w.ReactCurrentBatchConfig,ho=0,fo=null,po=null,mo=null,go=!1,yo=!1,vo=0,bo=0;function wo(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(ho=o,fo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?sa:oa,e=n(r,i),yo){o=0;do{if(yo=!1,vo=0,25<=o)throw Error(s(301));o+=1,mo=po=null,t.updateQueue=null,uo.current=aa,e=n(r,i)}while(yo)}if(uo.current=ia,t=null!==po&&null!==po.next,ho=0,mo=po=fo=null,go=!1,t)throw Error(s(300));return e}function ko(){var e=0!==vo;return vo=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?fo.memoizedState=mo=e:mo=mo.next=e,mo}function Co(){if(null===po){var e=fo.alternate;e=null!==e?e.memoizedState:null}else e=po.next;var t=null===mo?fo.memoizedState:mo.next;if(null!==t)mo=t,po=e;else{if(null===e)throw Error(s(310));e={memoizedState:(po=e).memoizedState,baseState:po.baseState,baseQueue:po.baseQueue,queue:po.queue,next:null},null===mo?fo.memoizedState=mo=e:mo=mo.next=e}return mo}function To(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=po,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((ho&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,fo.lanes|=h,jl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,dr(r,t.memoizedState)||(Ca=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,fo.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);dr(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Ao(e,t){var n=fo,r=Co(),i=t(),o=!dr(r.memoizedState,i);if(o&&(r.memoizedState=i,Ca=!0),r=r.queue,jo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Fo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(s(349));0!==(30&ho)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fo.updateQueue)?(t={lastEffect:null,stores:null},fo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Oo(e)}function Ro(e,t,n){return n((function(){Po(t)&&Oo(e)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dr(e,n)}catch(Tf){return!0}}function Oo(e){var t=zs(e,1);null!==t&&lu(t,e,1,-1)}function Mo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ea.bind(null,fo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=fo.updateQueue)?(t={lastEffect:null,stores:null},fo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Co().memoizedState}function Uo(e,t,n,r){var i=_o();fo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==po){var o=po.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Fo(t,n,s,r))}fo.flags|=e,i.memoizedState=Fo(1|t,n,s,r)}function Bo(e,t){return Uo(8390656,8,e,t)}function jo(e,t){return zo(2048,8,e,t)}function qo(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Wo(){}function Go(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,Ca=!0),e.memoizedState=n):(dr(n,t)||(n=bt(),fo.lanes|=n,jl|=n,e.baseState=!0),t)}function Xo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=co.transition;co.transition={};try{e(!1),t()}finally{kt=n,co.transition=r}}function Jo(){return Co().memoizedState}function Zo(e,t,n){var r=au(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ta(e))na(t,n);else if(null!==(n=Us(e,t,n,r))){lu(n,e,r,ou()),ra(n,t,r)}}function ea(e,t,n){var r=au(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ta(e))na(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,dr(a,o)){var l=t.interleaved;return null===l?(i.next=i,Vs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(it){}null!==(n=Us(e,t,i,r))&&(lu(n,e,r,i=ou()),ra(n,t,r))}}function ta(e){var t=e.alternate;return e===fo||null!==t&&t===fo}function na(e,t){yo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ra(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}var ia={readContext:Ms,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},sa={readContext:Ms,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ms,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zo.bind(null,fo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Mo,useDebugValue:Wo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Xo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fo,i=_o();if(us){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ol)throw Error(s(349));0!==(30&ho)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Ol.identifierPrefix;if(us){var n=ns;t=":"+t+"R"+(n=(ts&~(1<<32-lt(ts)-1)).toString(32)+n),0<(n=vo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oa={readContext:Ms,useCallback:Go,useContext:Ms,useEffect:jo,useImperativeHandle:Qo,useInsertionEffect:qo,useLayoutEffect:Ho,useMemo:Yo,useReducer:Io,useRef:Vo,useState:function(){return Io(To)},useDebugValue:Wo,useDeferredValue:function(e){return $o(Co(),po.memoizedState,e)},useTransition:function(){return[Io(To)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Ao,useId:Jo,unstable_isNewReconciler:!1},aa={readContext:Ms,useCallback:Go,useContext:Ms,useEffect:jo,useImperativeHandle:Qo,useInsertionEffect:qo,useLayoutEffect:Ho,useMemo:Yo,useReducer:xo,useRef:Vo,useState:function(){return xo(To)},useDebugValue:Wo,useDeferredValue:function(e){var t=Co();return null===po?t.memoizedState=e:$o(t,po.memoizedState,e)},useTransition:function(){return[xo(To)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Ao,useId:Jo,unstable_isNewReconciler:!1};function la(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ou(),i=au(e),s=Hs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ks(e,s,i))&&(lu(t,e,i,r),Qs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ou(),i=au(e),s=Hs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ks(e,s,i))&&(lu(t,e,i,r),Qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ou(),r=au(e),i=Hs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ks(e,i,r))&&(lu(t,e,r,n),Qs(t,e,r))}};function ha(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,s))}function da(e,t,n){var r=!1,i=Li,s=t.contextType;return"object"===typeof s&&null!==s?s=Ms(s):(i=Fi(t)?Oi:Ri.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Li),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function fa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function pa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},js(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ms(s):(s=Fi(t)?Oi:Ri.current,i.context=Mi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ua(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),Gs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ma(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(Nf){i="\nError generating stack: "+Nf.message+"\n"+Nf.stack}return{value:e,source:t,stack:i,digest:null}}function ga(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var va="function"===typeof WeakMap?WeakMap:Map;function ba(e,t,n){(n=Hs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Xl=r),ya(0,t)},n}function wa(e,t,n){(n=Hs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ya(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ya(0,t),"function"!==typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ea(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new va;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Du.bind(null,e,t,n),t.then(e,e))}function Sa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ka(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Hs(-1,1)).tag=2,Ks(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _a=w.ReactCurrentOwner,Ca=!1;function Ta(e,t,n,r){t.child=null===e?Is(t,null,n,r):Ts(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var s=t.ref;return Os(t,i),r=So(e,t,n,r,s,i),n=ko(),null===e||Ca?(us&&n&&ss(t),t.flags|=1,Ta(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$a(e,t,i))}function xa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Vu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Na(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:fr)(o,r)&&e.ref===t.ref)return $a(e,t,i)}return t.flags|=1,(e=Uu(s,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(fr(s,r)&&e.ref===t.ref){if(Ca=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,$a(e,t,i);0!==(131072&e.flags)&&(Ca=!0)}}return La(e,t,n,r,i)}function Aa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(Ul,Vl),Vl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(Ul,Vl),Vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Di(Ul,Vl),Vl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Di(Ul,Vl),Vl|=r;return Ta(e,t,i,n),t.child}function Da(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,n,r,i){var s=Fi(n)?Oi:Ri.current;return s=Mi(t,s),Os(t,i),n=So(e,t,n,r,s,i),r=ko(),null===e||Ca?(us&&r&&ss(t),t.flags|=1,Ta(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$a(e,t,i))}function Ra(e,t,n,r,i){if(Fi(n)){var s=!0;Bi(t)}else s=!1;if(Os(t,i),null===t.stateNode)Ya(e,t),da(t,n,r),pa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ms(u):u=Mi(t,u=Fi(n)?Oi:Ri.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&fa(t,o,r,u),Bs=!1;var d=t.memoizedState;o.state=d,Gs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Pi.current||Bs?("function"===typeof c&&(ua(t,n,c,r),l=t.memoizedState),(a=Bs||ha(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,qs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:la(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ms(l):l=Mi(t,l=Fi(n)?Oi:Ri.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&fa(t,o,r,l),Bs=!1,d=t.memoizedState,o.state=d,Gs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Pi.current||Bs?("function"===typeof f&&(ua(t,n,f,r),p=t.memoizedState),(u=Bs||ha(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,s,i)}function Pa(e,t,n,r,i,s){Da(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),$a(e,t,s);r=t.stateNode,_a.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,a,s)):Ta(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Ui(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ui(0,t.context,!1),to(e,t.containerInfo)}function Ma(e,t,n,r,i){return vs(),bs(i),t.flags|=256,Ta(e,t,n,r),t.child}var Fa,Va,Ua,za,Ba={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function qa(e,t,n){var r,i=t.pendingProps,o=so.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Di(so,1&o),null===e)return ps(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=ju(l,i,0,null),e=Bu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Ba,e):Ha(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ka(e,t,a,r=ga(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ju({mode:"visible",children:r.children},i,0,null),(o=Bu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ts(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Ba,o);if(0===(1&t.mode))return Ka(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ka(e,t,a,r=ga(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),Ca||l){if(null!==(r=Ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,zs(e,i),lu(r,e,i,-1))}return Eu(),Ka(e,t,a,r=ga(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ru.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ls=pi(i.nextSibling),as=t,us=!0,cs=null,null!==e&&(Ji[Zi++]=ts,Ji[Zi++]=ns,Ji[Zi++]=es,ts=e.id,ns=e.overflow,es=t),t=Ha(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Uu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Uu(r,a):(a=Bu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ba,i}return e=(a=e.child).sibling,i=Uu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ha(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ka(e,t,n,r){return null!==r&&bs(r),Ts(t,e.child,null,n),(e=Ha(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ps(e.return,t,n)}function Wa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ta(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n,t);else if(19===e.tag)Qa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,s);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ya(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $a(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){if(!us)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ja(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Za(e,t,n){var r=t.pendingProps;switch(os(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ja(t),null;case 1:case 17:return Fi(t.type)&&Vi(),Ja(t),null;case 3:return r=t.stateNode,no(),Ai(Pi),Ai(Ri),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(gs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==cs&&(du(cs),cs=null))),Va(e,t),Ja(t),null;case 5:io(t);var i=eo(Zs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ua(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ja(t),null}if(e=eo(Xs.current),gs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[yi]=t,r[vi]=o,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)Hr(zr[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":$(r,o),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Hr("invalid",r);break;case"textarea":ie(r,o),Hr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&ri(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&ri(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Hr("scroll",r)}switch(n){case"input":Q(r),Z(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ii)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[yi]=t,e[vi]=r,Fa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)Hr(zr[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Hr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Hr("invalid",e)}for(o in ve(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Hr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ii)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ja(t),null;case 6:if(e&&null!=t.stateNode)za(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=eo(Zs.current),eo(Xs.current),gs(t)){if(r=t.stateNode,n=t.memoizedProps,r[yi]=t,(o=r.nodeValue!==n)&&null!==(e=as))switch(e.tag){case 3:ri(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ri(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[yi]=t,t.stateNode=r}return Ja(t),null;case 13:if(Ai(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(us&&null!==ls&&0!==(1&t.mode)&&0===(128&t.flags))ys(),vs(),t.flags|=98560,o=!1;else if(o=gs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[yi]=t}else vs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ja(t),o=!1}else null!==cs&&(du(cs),cs=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===zl&&(zl=3):Eu())),null!==t.updateQueue&&(t.flags|=4),Ja(t),null);case 4:return no(),Va(e,t),null===e&&Wr(t.stateNode.containerInfo),Ja(t),null;case 10:return Rs(t.type._context),Ja(t),null;case 19:if(Ai(so),null===(o=t.memoizedState))return Ja(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Xa(o,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=oo(e))){for(t.flags|=128,Xa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Gl&&(t.flags|=128,r=!0,Xa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!us)return Ja(t),null}else 2*Xe()-o.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Xa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Di(so,r?1&n|2:1&n),t):(Ja(t),null);case 22:case 23:return yu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Vl)&&(Ja(t),6&t.subtreeFlags&&(t.flags|=8192)):Ja(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function el(e,t){switch(os(t),t.tag){case 1:return Fi(t.type)&&Vi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return no(),Ai(Pi),Ai(Ri),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return io(t),null;case 13:if(Ai(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));vs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(so),null;case 4:return no(),null;case 10:return Rs(t.type._context),null;case 22:case 23:return yu(),null;default:return null}}Fa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(){},Ua=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,eo(Xs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ii)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Hr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},za=function(e,t,n,r){n!==r&&(t.flags|=4)};var tl=!1,nl=!1,rl="function"===typeof WeakSet?WeakSet:Set,il=null;function sl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Tf){Au(e,t,Tf)}else n.current=null}function ol(e,t,n){try{n()}catch(Tf){Au(e,t,Tf)}}var al=!1;function ll(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&ol(t,n,s)}i=i.next}while(i!==r)}}function ul(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function hl(e){var t=e.alternate;null!==t&&(e.alternate=null,hl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[yi],delete t[vi],delete t[wi],delete t[Ei],delete t[Si])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dl(e){return 5===e.tag||3===e.tag||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ii));else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}var gl=null,yl=!1;function vl(e,t,n){for(n=n.child;null!==n;)bl(e,t,n),n=n.sibling}function bl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(Af){}switch(n.tag){case 5:nl||sl(n,t);case 6:var r=gl,i=yl;gl=null,vl(e,t,n),yl=i,null!==(gl=r)&&(yl?(e=gl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gl.removeChild(n.stateNode));break;case 18:null!==gl&&(yl?(e=gl,n=n.stateNode,8===e.nodeType?fi(e.parentNode,n):1===e.nodeType&&fi(e,n),Qt(e)):fi(gl,n.stateNode));break;case 4:r=gl,i=yl,gl=n.stateNode.containerInfo,yl=!0,vl(e,t,n),gl=r,yl=i;break;case 0:case 11:case 14:case 15:if(!nl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&ol(n,t,o),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!nl&&(sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Af){Au(n,t,Af)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(nl=(r=nl)||null!==n.memoizedState,vl(e,t,n),nl=r):vl(e,t,n);break;default:vl(e,t,n)}}function wl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rl),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function El(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:gl=l.stateNode,yl=!1;break e;case 3:case 4:gl=l.stateNode.containerInfo,yl=!0;break e}l=l.return}if(null===gl)throw Error(s(160));bl(o,a,i),gl=null,yl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(it){Au(i,t,it)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Sl(t,e),t=t.sibling}function Sl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(El(t,e),kl(e),4&r){try{ll(3,e,e.return),ul(3,e)}catch(g){Au(e,e.return,g)}try{ll(5,e,e.return)}catch(g){Au(e,e.return,g)}}break;case 1:El(t,e),kl(e),512&r&&null!==n&&sl(n,n.return);break;case 5:if(El(t,e),kl(e),512&r&&null!==n&&sl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Au(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,a);var c=be(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[vi]=o}catch(g){Au(e,e.return,g)}}break;case 6:if(El(t,e),kl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Au(e,e.return,g)}}break;case 3:if(El(t,e),kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Qt(t.containerInfo)}catch(g){Au(e,e.return,g)}break;case 4:default:El(t,e),kl(e);break;case 13:El(t,e),kl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Xe())),4&r&&wl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(nl=(c=nl)||h,El(t,e),nl=c):El(t,e),kl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(il=e,h=e.child;null!==h;){for(d=il=h;null!==il;){switch(p=(f=il).child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:sl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Au(r,n,g)}}break;case 5:sl(f,f.return);break;case 22:if(null!==f.memoizedState){Il(d);continue}}null!==p?(p.return=f,il=p):Il(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Au(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Au(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:El(t,e),kl(e),4&r&&wl(e);case 21:}}function kl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(dl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ml(e,fl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;pl(e,fl(e),o);break;default:throw Error(s(161))}}catch(et){Au(e,e.return,et)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){il=e,Cl(e,t,n)}function Cl(e,t,n){for(var r=0!==(1&e.mode);null!==il;){var i=il,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||tl;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||nl;a=tl;var u=nl;if(tl=o,(nl=l)&&!u)for(il=i;null!==il;)l=(o=il).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,il=l):xl(i);for(;null!==s;)il=s,Cl(s,t,n),s=s.sibling;il=i,tl=a,nl=u}Tl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,il=s):Tl(e)}}function Tl(e){for(;null!==il;){var t=il;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:nl||ul(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!nl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:la(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ys(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ys(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Qt(d)}}}break;default:throw Error(s(163))}nl||512&t.flags&&cl(t)}catch(ft){Au(t,t.return,ft)}}if(t===e){il=null;break}if(null!==(n=t.sibling)){n.return=t.return,il=n;break}il=t.return}}function Il(e){for(;null!==il;){var t=il;if(t===e){il=null;break}var n=t.sibling;if(null!==n){n.return=t.return,il=n;break}il=t.return}}function xl(e){for(;null!==il;){var t=il;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ul(4,t)}catch(et){Au(t,n,et)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(et){Au(t,i,et)}}var s=t.return;try{cl(t)}catch(et){Au(t,s,et)}break;case 5:var o=t.return;try{cl(t)}catch(et){Au(t,o,et)}}}catch(et){Au(t,t.return,et)}if(t===e){il=null;break}var a=t.sibling;if(null!==a){a.return=t.return,il=a;break}il=t.return}}var Nl,Al=Math.ceil,Dl=w.ReactCurrentDispatcher,Ll=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,Pl=0,Ol=null,Ml=null,Fl=0,Vl=0,Ul=Ni(0),zl=0,Bl=null,jl=0,ql=0,Hl=0,Kl=null,Ql=null,Wl=0,Gl=1/0,Yl=null,$l=!1,Xl=null,Jl=null,Zl=!1,eu=null,tu=0,nu=0,ru=null,iu=-1,su=0;function ou(){return 0!==(6&Pl)?Xe():-1!==iu?iu:iu=Xe()}function au(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Fl?Fl&-Fl:null!==ws.transition?(0===su&&(su=bt()),su):0!==(e=kt)?e:e=void 0===(e=window.event)?16:en(e.type)}function lu(e,t,n,r){if(50<nu)throw nu=0,ru=null,Error(s(185));Et(e,n,r),0!==(2&Pl)&&e===Ol||(e===Ol&&(0===(2&Pl)&&(ql|=n),4===zl&&fu(e,Fl)),uu(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Gl=Xe()+500,Hi&&Wi()))}function uu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-lt(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=gt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=mt(e,e===Ol?Fl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Hi=!0,Qi(e)}(pu.bind(null,e)):Qi(pu.bind(null,e)),hi((function(){0===(6&Pl)&&Wi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=st}n=Ou(n,cu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cu(e,t){if(iu=-1,su=0,0!==(6&Pl))throw Error(s(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=mt(e,e===Ol?Fl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Su(e,r);else{t=r;var i=Pl;Pl|=2;var o=wu();for(Ol===e&&Fl===t||(Yl=null,Gl=Xe()+500,vu(e,t));;)try{_u();break}catch(Af){bu(e,Af)}Ls(),Dl.current=o,Pl=i,null!==Ml?t=0:(Ol=null,Fl=0,t=zl)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=hu(e,i))),1===t)throw n=Bl,vu(e,0),fu(e,r),uu(e,Xe()),n;if(6===t)fu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dr(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Su(e,r))&&(0!==(o=vt(e))&&(r=o,t=hu(e,o))),1===t))throw n=Bl,vu(e,0),fu(e,r),uu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Iu(e,Ql,Yl);break;case 3:if(fu(e,r),(130023424&r)===r&&10<(t=Wl+500-Xe())){if(0!==mt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ou(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=li(Iu.bind(null,e,Ql,Yl),t);break}Iu(e,Ql,Yl);break;case 4:if(fu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-lt(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=li(Iu.bind(null,e,Ql,Yl),r);break}Iu(e,Ql,Yl);break;default:throw Error(s(329))}}}return uu(e,Xe()),e.callbackNode===n?cu.bind(null,e):null}function hu(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(vu(e,t).flags|=256),2!==(e=Su(e,t))&&(t=Ql,Ql=n,null!==t&&du(t)),e}function du(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function fu(e,t){for(t&=~Hl,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function pu(e){if(0!==(6&Pl))throw Error(s(327));xu();var t=mt(e,0);if(0===(1&t))return uu(e,Xe()),null;var n=Su(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=hu(e,r))}if(1===n)throw n=Bl,vu(e,0),fu(e,t),uu(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e,Ql,Yl),uu(e,Xe()),null}function mu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Gl=Xe()+500,Hi&&Wi())}}function gu(e){null!==eu&&0===eu.tag&&0===(6&Pl)&&xu();var t=Pl;Pl|=1;var n=Rl.transition,r=kt;try{if(Rl.transition=null,kt=1,e)return e()}finally{kt=r,Rl.transition=n,0===(6&(Pl=t))&&Wi()}}function yu(){Vl=Ul.current,Ai(Ul)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ui(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(os(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Vi();break;case 3:no(),Ai(Pi),Ai(Ri),lo();break;case 5:io(r);break;case 4:no();break;case 13:case 19:Ai(so);break;case 10:Rs(r.type._context);break;case 22:case 23:yu()}n=n.return}if(Ol=e,Ml=e=Uu(e.current,null),Fl=Vl=t,zl=0,Bl=null,Hl=ql=jl=0,Ql=Kl=null,null!==Fs){for(t=0;t<Fs.length;t++)if(null!==(r=(n=Fs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Fs=null}return e}function bu(e,t){for(;;){var n=Ml;try{if(Ls(),uo.current=ia,go){for(var r=fo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(ho=0,mo=po=fo=null,yo=!1,vo=0,Ll.current=null,null===n||null===n.return){zl=1,Bl=t,Ml=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Fl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Sa(a);if(null!==p){p.flags&=-257,ka(p,a,l,0,t),1&p.mode&&Ea(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){Ea(o,c,t),Eu();break e}u=Error(s(426))}else if(us&&1&l.mode){var y=Sa(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ka(y,a,l,0,t),bs(ma(u,l));break e}}o=u=ma(u,l),4!==zl&&(zl=2),null===Kl?Kl=[o]:Kl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ws(o,ba(0,u,t));break e;case 1:l=u;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Jl||!Jl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ws(o,wa(o,l,t));break e}}o=o.return}while(null!==o)}Tu(n)}catch(yt){t=yt,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function wu(){var e=Dl.current;return Dl.current=ia,null===e?ia:e}function Eu(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Ol||0===(268435455&jl)&&0===(268435455&ql)||fu(Ol,Fl)}function Su(e,t){var n=Pl;Pl|=2;var r=wu();for(Ol===e&&Fl===t||(Yl=null,vu(e,t));;)try{ku();break}catch(i){bu(e,i)}if(Ls(),Pl=n,Dl.current=r,null!==Ml)throw Error(s(261));return Ol=null,Fl=0,zl}function ku(){for(;null!==Ml;)Cu(Ml)}function _u(){for(;null!==Ml&&!Ye();)Cu(Ml)}function Cu(e){var t=Nl(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,null===t?Tu(e):Ml=t,Ll.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Za(n,t,Vl)))return void(Ml=n)}else{if(null!==(n=el(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return zl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===zl&&(zl=5)}function Iu(e,t,n){var r=kt,i=Rl.transition;try{Rl.transition=null,kt=1,function(e,t,n,r){do{xu()}while(null!==eu);if(0!==(6&Pl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-lt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ol&&(Ml=Ol=null,Fl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Ou(nt,(function(){return xu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Rl.transition,Rl.transition=null;var a=kt;kt=1;var l=Pl;Pl|=4,Ll.current=null,function(e,t){if(si=Gt,vr(e=yr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Bn){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(oi={focusedElem:e,selectionRange:n},Gt=!1,il=t;null!==il;)if(e=(t=il).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,il=e;else for(;null!==il;){t=il;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:la(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Bn){Au(t,t.return,Bn)}if(null!==(e=t.sibling)){e.return=t.return,il=e;break}il=t.return}m=al,al=!1}(e,n),Sl(n,e),br(oi),Gt=!!si,oi=si=null,e.current=n,_l(n,e,i),$e(),Pl=l,kt=a,Rl.transition=o}else e.current=n;if(Zl&&(Zl=!1,eu=e,tu=i),o=e.pendingLanes,0===o&&(Jl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),uu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Xl,Xl=null,e;0!==(1&tu)&&0!==e.tag&&xu(),o=e.pendingLanes,0!==(1&o)?e===ru?nu++:(nu=0,ru=e):nu=0,Wi()}(e,t,n,r)}finally{Rl.transition=i,kt=r}return null}function xu(){if(null!==eu){var e=_t(tu),t=Rl.transition,n=kt;try{if(Rl.transition=null,kt=16>e?16:e,null===eu)var r=!1;else{if(e=eu,eu=null,tu=0,0!==(6&Pl))throw Error(s(331));var i=Pl;for(Pl|=4,il=e.current;null!==il;){var o=il,a=o.child;if(0!==(16&il.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(il=c;null!==il;){var h=il;switch(h.tag){case 0:case 11:case 15:ll(8,h,o)}var d=h.child;if(null!==d)d.return=h,il=d;else for(;null!==il;){var f=(h=il).sibling,p=h.return;if(hl(h),h===c){il=null;break}if(null!==f){f.return=p,il=f;break}il=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}il=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,il=a;else e:for(;null!==il;){if(0!==(2048&(o=il).flags))switch(o.tag){case 0:case 11:case 15:ll(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,il=v;break e}il=o.return}}var b=e.current;for(il=b;null!==il;){var w=(a=il).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,il=w;else e:for(a=b;null!==il;){if(0!==(2048&(l=il).flags))try{switch(l.tag){case 0:case 11:case 15:ul(9,l)}}catch(yt){Au(l,l.return,yt)}if(l===a){il=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,il=E;break e}il=l.return}}if(Pl=i,Wi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(yt){}r=!0}return r}finally{kt=n,Rl.transition=t}}return!1}function Nu(e,t,n){e=Ks(e,t=ba(0,t=ma(n,t),1),1),t=ou(),null!==e&&(Et(e,1,t),uu(e,t))}function Au(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){t=Ks(t,e=wa(t,e=ma(n,e),1),1),e=ou(),null!==t&&(Et(t,1,e),uu(t,e));break}}t=t.return}}function Du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ou(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Fl&n)===n&&(4===zl||3===zl&&(130023424&Fl)===Fl&&500>Xe()-Wl?vu(e,0):Hl|=n),uu(e,t)}function Lu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ou();null!==(e=zs(e,t))&&(Et(e,t,n),uu(e,n))}function Ru(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Lu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Lu(e,n)}function Ou(e,t){return We(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fu(e,t,n,r){return new Mu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=Fu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Vu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Bu(n.children,i,o,t);case _:a=8,i|=8;break;case C:return(e=Fu(12,n,t,2|i)).elementType=C,e.lanes=o,e;case N:return(e=Fu(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Fu(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return ju(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case x:a=11;break e;case D:a=14;break e;case L:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Fu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bu(e,t,n,r){return(e=Fu(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Fu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function qu(e,t,n){return(e=Fu(6,e,null,t)).lanes=n,e}function Hu(e,t,n){return(t=Fu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wt(0),this.expirationTimes=wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qu(e,t,n,r,i,s,o,a,l){return e=new Ku(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Fu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),e}function Wu(e){if(!e)return Li;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Fi(n))return zi(e,n,t)}return t}function Gu(e,t,n,r,i,s,o,a,l){return(e=Qu(n,r,!0,e,0,s,0,a,l)).context=Wu(null),n=e.current,(s=Hs(r=ou(),i=au(n))).callback=void 0!==t&&null!==t?t:null,Ks(n,s,i),e.current.lanes=i,Et(e,i,r),uu(e,r),e}function Yu(e,t,n,r){var i=t.current,s=ou(),o=au(i);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Hs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ks(i,t,o))&&(lu(e,i,o,s),Qs(e,i,o)),o}function $u(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)Ca=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ca=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),vs();break;case 5:ro(t);break;case 1:Fi(t.type)&&Bi(t);break;case 4:to(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qa(e,t,n):(Di(so,1&so.current),null!==(e=$a(e,t,n))?e.sibling:null);Di(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ga(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Aa(e,t,n)}return $a(e,t,n)}(e,t,n);Ca=0!==(131072&e.flags)}else Ca=!1,us&&0!==(1048576&t.flags)&&is(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ya(e,t),e=t.pendingProps;var i=Mi(t,Ri.current);Os(t,n),i=So(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fi(r)?(o=!0,Bi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,js(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,pa(t,r,e,n),t=Pa(null,t,r,!0,o,n)):(t.tag=0,us&&o&&ss(t),Ta(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ya(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===D)return 14}return 2}(r),e=la(r,e),i){case 0:t=La(null,t,r,e,n);break e;case 1:t=Ra(null,t,r,e,n);break e;case 11:t=Ia(null,t,r,e,n);break e;case 14:t=xa(null,t,r,la(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:la(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:la(r,i),n);case 3:e:{if(Oa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,qs(e,t),Gs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ma(e,t,r,n,i=ma(Error(s(423)),t));break e}if(r!==i){t=Ma(e,t,r,n,i=ma(Error(s(424)),t));break e}for(ls=pi(t.stateNode.containerInfo.firstChild),as=t,us=!0,cs=null,n=Is(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vs(),r===i){t=$a(e,t,n);break e}Ta(e,t,r,n)}t=t.child}return t;case 5:return ro(t),null===e&&ps(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ai(r,i)?a=null:null!==o&&ai(r,o)&&(t.flags|=32),Da(e,t),Ta(e,t,a,n),t.child;case 6:return null===e&&ps(t),null;case 13:return qa(e,t,n);case 4:return to(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ts(t,null,r,n):Ta(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:la(r,i),n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Di(xs,r._currentValue),r._currentValue=a,null!==o)if(dr(o.value,a)){if(o.children===i.children&&!Pi.current){t=$a(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Hs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ps(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ps(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Ta(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Os(t,n),r=r(i=Ms(i)),t.flags|=1,Ta(e,t,r,n),t.child;case 14:return i=la(r=t.type,t.pendingProps),xa(e,t,r,i=la(r.type,i),n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:la(r,i),Ya(e,t),t.tag=1,Fi(r)?(e=!0,Bi(t)):e=!1,Os(t,n),da(t,r,i),pa(t,r,i,n),Pa(null,t,r,!0,e,n);case 19:return Ga(e,t,n);case 22:return Aa(e,t,n)}throw Error(s(156,t.tag))};var Zu="function"===typeof reportError?reportError:function(e){console.error(e)};function ec(e){this._internalRoot=e}function tc(e){this._internalRoot=e}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function rc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(){}function sc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=$u(o);a.call(e)}}Yu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=$u(o);s.call(e)}}var o=Gu(t,r,e,0,null,!1,0,"",ic);return e._reactRootContainer=o,e[bi]=o.current,Wr(8===e.nodeType?e.parentNode:e),gu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=$u(l);a.call(e)}}var l=Qu(e,0,!1,null,0,!1,0,"",ic);return e._reactRootContainer=l,e[bi]=l.current,Wr(8===e.nodeType?e.parentNode:e),gu((function(){Yu(t,l,n,r)})),l}(n,t,e,i,r);return $u(o)}tc.prototype.render=ec.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Yu(e,t,null,null)},tc.prototype.unmount=ec.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gu((function(){Yu(null,e,null,null)})),t[bi]=null}},tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&Bt(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(St(t,1|n),uu(t,Xe()),0===(6&Pl)&&(Gl=Xe()+500,Wi()))}break;case 13:gu((function(){var t=zs(e,1);if(null!==t){var n=ou();lu(t,e,1,n)}})),Ju(e,1)}},Tt=function(e){if(13===e.tag){var t=zs(e,134217728);if(null!==t)lu(t,e,134217728,ou());Ju(e,134217728)}},It=function(e){if(13===e.tag){var t=au(e),n=zs(e,t);if(null!==n)lu(n,e,t,ou());Ju(e,t)}},xt=function(){return kt},Nt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ti(r);if(!i)throw Error(s(90));W(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=mu,Ne=gu;var oc={usingClientEntryPoint:!1,Events:[_i,Ci,Ti,Te,Ie,mu]},ac={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{ot=uc.inject(lc),at=uc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!nc(e))throw Error(s(299));var n=!1,r="",i=Zu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Qu(e,1,!1,null,0,n,0,r,i),e[bi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new ec(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return gu(e)},t.hydrate=function(e,t,n){if(!rc(t))throw Error(s(200));return sc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!nc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Zu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Gu(t,null,e,1,null!=n?n:null,i,0,o,a),e[bi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tc(t)},t.render=function(e,t,n){if(!rc(t))throw Error(s(200));return sc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!rc(e))throw Error(s(40));return!!e._reactRootContainer&&(gu((function(){sc(null,null,e,!1,(function(){e._reactRootContainer=null,e[bi]=null}))})),!0)},t.unstable_batchedUpdates=mu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return sc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!_.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+x(a=e[u],u);l+=N(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=s+x(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},P={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!_.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&P(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&P(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,C=null,T=-1,I=5,x=-1;function N(){return!(t.unstable_now()-x<I)}function A(){if(null!==C){var e=t.unstable_now();x=e;var n=!0;try{n=C(!0,e)}finally{n?k():(_=!1,C=null)}}else _=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,L=D.port2;D.port1.onmessage=A,k=function(){L.postMessage(null)}}else k=function(){y(A,0)};function R(e){C=e,_||(_=!0,k())}function P(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(T),T=-1):g=!0,P(E,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)},319:(e,t,n)=>{e.exports=n.p+"static/media/logo_4.3155123b6f6c5f703c73.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="/";var r=n(43),i=n(391);const s={navbar:"navbar_navbar__FKfim",coverImage:"navbar_coverImage__bIWkI"};var o=n(579);function a(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:s.navbar,children:[(0,o.jsx)("img",{className:s.coverImage,src:n(319),alt:"album"}),(0,o.jsx)("span",{children:"PhotoAlbum"})]})})}const l={mainContainer:"albumlist_mainContainer__TpvIy",albumContainer:"albumlist_albumContainer__DAHON",albumForm:"albumlist_albumForm__ycpBF",header:"albumlist_header__qO-8+",btn:"albumlist_btn__RC9E5"},u={cardContainer:"album_cardContainer__6ArOc",cardImage:"album_cardImage__hPcL4",cardName:"album_cardName__h-wGP"};function c(e){var{info:t,setOpenAlbum:n}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:u.cardContainer,children:[(0,o.jsx)("div",{className:u.cardImage,onClick:function(){n({albumId:t.id,open:!0})}}),(0,o.jsx)("div",{className:u.cardName,children:t.Albumname})]})})}const h={input:"albumform_input__3nBaC",formBtn:"albumform_formBtn__o1hwt",clearBtn:"albumform_clearBtn__3J9-j",addBtn:"albumform_addBtn__G3rF2"},d=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(d(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new p;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class p extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m=function(e){return function(e){const t=d(e);return f.encodeByteArray(t,!0)}(e).replace(/\./g,"")},g=function(e){try{return f.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,v=()=>{try{return y()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&g(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},b=e=>{const t=(e=>{var t,n;return null===(n=null===(t=v())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},w=()=>{var e;return null===(e=v())||void 0===e?void 0:e.config};class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function S(){try{return"object"===typeof indexedDB}catch(e){return!1}}class k extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(C,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new k(n,s,t)}}const C=/\{\$([^}]+)}/g;function T(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(I(n)&&I(s)){if(!T(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I(e){return null!==e&&"object"===typeof e}function x(e){return e&&e._delegate?e._delegate:e}class N{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const A="[DEFAULT]";class D{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new E;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:A})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===A?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.component?this.component.multipleInstances?e:A:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class L{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const R=[];var P;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(P||(P={}));const O={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},M=P.INFO,F={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},V=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=F[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class U{constructor(e){this.name=e,this._logLevel=M,this._logHandler=V,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in P))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...t),this._logHandler(this,P.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...t),this._logHandler(this,P.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,P.INFO,...t),this._logHandler(this,P.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,P.WARN,...t),this._logHandler(this,P.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,P.ERROR,...t),this._logHandler(this,P.ERROR,...t)}}const z=(e,t)=>t.some((t=>e instanceof t));let B,j;const q=new WeakMap,H=new WeakMap,K=new WeakMap,Q=new WeakMap,W=new WeakMap;let G={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return H.get(e);if("objectStoreNames"===t)return e.objectStoreNames||K.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return X(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Y(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(J(this),n),X(q.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(e.apply(J(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(J(this),t,...r);return K.set(s,t.sort?t.sort():[t]),X(s)}}function $(e){return"function"===typeof e?Y(e):(e instanceof IDBTransaction&&function(e){if(H.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));H.set(e,t)}(e),z(e,B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,G):e)}function X(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(X(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&q.set(t,e)})).catch((()=>{})),W.set(t,e),t}(e);if(Q.has(e))return Q.get(e);const t=$(e);return t!==e&&(Q.set(e,t),W.set(t,e)),t}const J=e=>W.get(e);const Z=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],te=new Map;function ne(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(te.get(t))return te.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Z.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return te.set(t,s),s}G=(e=>({...e,get:(t,n,r)=>ne(t,n)||e.get(t,n,r),has:(t,n)=>!!ne(t,n)||e.has(t,n)}))(G);class re{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ie="@firebase/app",se="0.9.13",oe=new U("@firebase/app"),ae="@firebase/app-compat",le="@firebase/analytics-compat",ue="@firebase/analytics",ce="@firebase/app-check-compat",he="@firebase/app-check",de="@firebase/auth",fe="@firebase/auth-compat",pe="@firebase/database",me="@firebase/database-compat",ge="@firebase/functions",ye="@firebase/functions-compat",ve="@firebase/installations",be="@firebase/installations-compat",we="@firebase/messaging",Ee="@firebase/messaging-compat",Se="@firebase/performance",ke="@firebase/performance-compat",_e="@firebase/remote-config",Ce="@firebase/remote-config-compat",Te="@firebase/storage",Ie="@firebase/storage-compat",xe="@firebase/firestore",Ne="@firebase/firestore-compat",Ae="firebase",De="[DEFAULT]",Le={[ie]:"fire-core",[ae]:"fire-core-compat",[ue]:"fire-analytics",[le]:"fire-analytics-compat",[he]:"fire-app-check",[ce]:"fire-app-check-compat",[de]:"fire-auth",[fe]:"fire-auth-compat",[pe]:"fire-rtdb",[me]:"fire-rtdb-compat",[ge]:"fire-fn",[ye]:"fire-fn-compat",[ve]:"fire-iid",[be]:"fire-iid-compat",[we]:"fire-fcm",[Ee]:"fire-fcm-compat",[Se]:"fire-perf",[ke]:"fire-perf-compat",[_e]:"fire-rc",[Ce]:"fire-rc-compat",[Te]:"fire-gcs",[Ie]:"fire-gcs-compat",[xe]:"fire-fst",[Ne]:"fire-fst-compat","fire-js":"fire-js",[Ae]:"fire-js-all"},Re=new Map,Pe=new Map;function Oe(e,t){try{e.container.addComponent(t)}catch(n){oe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Me(e){const t=e.name;if(Pe.has(t))return oe.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pe.set(t,e);for(const n of Re.values())Oe(n,e);return!0}function Fe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Ve=new _("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new N("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ve.create("app-deleted",{appName:this._name})}}function ze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:De,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ve.create("bad-app-name",{appName:String(i)});if(n||(n=w()),!n)throw Ve.create("no-options");const s=Re.get(i);if(s){if(T(n,s.options)&&T(r,s.config))return s;throw Ve.create("duplicate-app",{appName:i})}const o=new L(i);for(const l of Pe.values())o.addComponent(l);const a=new Ue(n,r,o);return Re.set(i,a),a}function Be(e,t,n){var r;let i=null!==(r=Le[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oe.warn(e.join(" "))}Me(new N("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const je="firebase-heartbeat-database",qe=1,He="firebase-heartbeat-store";let Ke=null;function Qe(){return Ke||(Ke=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=X(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(X(o.result),e.oldVersion,e.newVersion,X(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(je,qe,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(He)}}).catch((e=>{throw Ve.create("idb-open",{originalErrorMessage:e.message})}))),Ke}async function We(e,t){try{const n=(await Qe()).transaction(He,"readwrite"),r=n.objectStore(He);await r.put(t,Ge(e)),await n.done}catch(n){if(n instanceof k)oe.warn(n.message);else{const e=Ve.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});oe.warn(e.message)}}}function Ge(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ye{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=$e();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=$e(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Je(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Je(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=m(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function $e(){return(new Date).toISOString().substring(0,10)}class Xe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!S()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Qe();return await t.transaction(He).objectStore(He).get(Ge(e))}catch(t){if(t instanceof k)oe.warn(t.message);else{const e=Ve.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});oe.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return We(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return We(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Je(e){return m(JSON.stringify({version:2,heartbeats:e})).length}var Ze;Ze="",Me(new N("platform-logger",(e=>new re(e)),"PRIVATE")),Me(new N("heartbeat",(e=>new Ye(e)),"PRIVATE")),Be(ie,se,Ze),Be(ie,se,"esm2017"),Be("fire-js","");Be("firebase","9.23.0","app");var et,tt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},nt={},rt=rt||{},it=tt||self;function st(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ot(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var at="closure_uid_"+(1e9*Math.random()>>>0),lt=0;function ut(e,t,n){return e.call.apply(e.bind,arguments)}function ct(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ht(e,t,n){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ut:ct).apply(null,arguments)}function dt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ft(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function pt(){this.s=this.s,this.o=this.o}pt.prototype.s=!1,pt.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,at)&&e[at]||(e[at]=++lt))},pt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function gt(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function yt(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(st(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function vt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{it.addEventListener("test",(()=>{}),t),it.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function wt(e){return/^[\s\xa0]*$/.test(e)}function Et(){var e=it.navigator;return e&&(e=e.userAgent)?e:""}function St(e){return-1!=Et().indexOf(e)}function kt(e){return kt[" "](e),e}kt[" "]=function(){};var _t,Ct,Tt=St("Opera"),It=St("Trident")||St("MSIE"),xt=St("Edge"),Nt=xt||It,At=St("Gecko")&&!(-1!=Et().toLowerCase().indexOf("webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),Dt=-1!=Et().toLowerCase().indexOf("webkit")&&!St("Edge");function Lt(){var e=it.document;return e?e.documentMode:void 0}e:{var Rt="",Pt=function(){var e=Et();return At?/rv:([^\);]+)(\)|;)/.exec(e):xt?/Edge\/([\d\.]+)/.exec(e):It?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Dt?/WebKit\/(\S+)/.exec(e):Tt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Pt&&(Rt=Pt?Pt[1]:""),It){var Ot=Lt();if(null!=Ot&&Ot>parseFloat(Rt)){_t=String(Ot);break e}}_t=Rt}if(it.document&&It){var Mt=Lt();Ct=Mt||(parseInt(_t,10)||void 0)}else Ct=void 0;var Ft=Ct;function Vt(e,t){if(vt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(At){e:{try{kt(t.nodeName);var i=!0;break e}catch(Nf){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ut[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vt.$.h.call(this)}}ft(Vt,vt);var Ut={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function jt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Bt,this.fa=this.ia=!1}function qt(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ht(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Kt(e){const t={};for(const n in e)t[n]=e[n];return t}const Qt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wt(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Qt.length;t++)n=Qt[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Gt(e){this.src=e,this.g={},this.h=0}function Yt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=mt(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(qt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $t(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Gt.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=$t(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new jt(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Xt="closure_lm_"+(1e6*Math.random()|0),Jt={};function Zt(e,t,n,r,i){if(r&&r.once)return tn(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Zt(e,t[s],n,r,i);return null}return n=un(n),e&&e[zt]?e.O(t,n,ot(r)?!!r.capture:!!r,i):en(e,t,n,!1,r,i)}function en(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ot(i)?!!i.capture:!!i,a=an(e);if(a||(e[Xt]=a=new Gt(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=on;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bt||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function tn(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)tn(e,t[s],n,r,i);return null}return n=un(n),e&&e[zt]?e.P(t,n,ot(r)?!!r.capture:!!r,i):en(e,t,n,!0,r,i)}function nn(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)nn(e,t[s],n,r,i);else r=ot(r)?!!r.capture:!!r,n=un(n),e&&e[zt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$t(s=e.g[t],n,r,i))&&(qt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=an(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$t(t,n,r,i)),(n=-1<e?t[e]:null)&&rn(n))}function rn(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[zt])Yt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=an(t))?(Yt(n,e),0==n.h&&(n.src=null,t[Xt]=null)):qt(e)}}}function sn(e){return e in Jt?Jt[e]:Jt[e]="on"+e}function on(e,t){if(e.fa)e=!0;else{t=new Vt(t,this);var n=e.listener,r=e.la||e.src;e.ia&&rn(e),e=n.call(r,t)}return e}function an(e){return(e=e[Xt])instanceof Gt?e:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function un(e){return"function"===typeof e?e:(e[ln]||(e[ln]=function(t){return e.handleEvent(t)}),e[ln])}function cn(){pt.call(this),this.i=new Gt(this),this.S=this,this.J=null}function hn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new vt(t,e);else if(t instanceof vt)t.target=t.target||e;else{var i=t;Wt(t=new vt(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=dn(o,r,!0,t)&&i}if(i=dn(o=t.g=e,r,!0,t)&&i,i=dn(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=dn(o=t.g=n[s],r,!1,t)&&i}function dn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Yt(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}ft(cn,pt),cn.prototype[zt]=!0,cn.prototype.removeEventListener=function(e,t,n,r){nn(this,e,t,n,r)},cn.prototype.N=function(){if(cn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qt(n[r]);delete t.g[e],t.h--}}this.J=null},cn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},cn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fn=it.JSON.stringify;function pn(){var e=En;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mn=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new gn),(e=>e.reset()));class gn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yn(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function vn(e){it.setTimeout((()=>{throw e}),0)}let bn,wn=!1,En=new class{constructor(){this.h=this.g=null}add(e,t){const n=mn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Sn=()=>{const e=it.Promise.resolve(void 0);bn=()=>{e.then(kn)}};var kn=()=>{for(var e;e=pn();){try{e.h.call(e.g)}catch(n){vn(n)}var t=mn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wn=!1};function _n(e,t){cn.call(this),this.h=e||1,this.g=t||it,this.j=ht(this.qb,this),this.l=Date.now()}function Cn(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Tn(e,t,n){if("function"===typeof e)n&&(e=ht(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ht(e.handleEvent,e)}return 2147483647<Number(t)?-1:it.setTimeout(e,t||0)}function In(e){e.g=Tn((()=>{e.g=null,e.i&&(e.i=!1,In(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ft(_n,cn),(et=_n.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),hn(this,"tick"),this.ga&&(Cn(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){_n.$.N.call(this),Cn(this),delete this.g};class xn extends pt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:In(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(e){pt.call(this),this.h=e,this.g={}}ft(Nn,pt);var An=[];function Dn(e,t,n,r){Array.isArray(n)||(n&&(An[0]=n.toString()),n=An);for(var i=0;i<n.length;i++){var s=Zt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ln(e){Ht(e.g,(function(e,t){this.g.hasOwnProperty(t)&&rn(e)}),e),e.g={}}function Rn(){this.g=!0}function Pn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fn(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Nn.prototype.N=function(){Nn.$.N.call(this),Ln(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rn.prototype.Ea=function(){this.g=!1},Rn.prototype.info=function(){};var On={},Mn=null;function Fn(){return Mn=Mn||new cn}function Vn(e){vt.call(this,On.Ta,e)}function Un(e){const t=Fn();hn(t,new Vn(t))}function zn(e,t){vt.call(this,On.STAT_EVENT,e),this.stat=t}function Bn(e){const t=Fn();hn(t,new zn(t,e))}function jn(e,t){vt.call(this,On.Ua,e),this.size=t}function qn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return it.setTimeout((function(){e()}),t)}On.Ta="serverreachability",ft(Vn,vt),On.STAT_EVENT="statevent",ft(zn,vt),On.Ua="timingevent",ft(jn,vt);var Hn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Kn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qn(){}function Wn(e){return e.h||(e.h=e.i())}function Gn(){}Qn.prototype.h=null;var Yn,$n={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xn(){vt.call(this,"d")}function Jn(){vt.call(this,"c")}function Zn(){}function er(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Nn(this),this.P=nr,e=Nt?125:void 0,this.V=new _n(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}ft(Xn,vt),ft(Jn,vt),ft(Zn,Qn),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Yn=new Zn;var nr=45e3,rr={},ir={};function sr(e,t,n){e.L=1,e.v=_r(br(t)),e.s=n,e.S=!0,or(e,null)}function or(e,t){e.G=Date.now(),cr(e),e.A=br(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Fr(n.i,"t",r),e.C=0,n=e.l.J,e.h=new tr,e.g=Vi(e.l,n?t:null,!e.s),0<e.O&&(e.M=new xn(ht(e.Pa,e,e.g),e.O)),Dn(e.U,e.g,"readystatechange",e.nb),t=e.I?Kt(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Un(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function ar(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function lr(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=ur(e,n),r==ir){4==t&&(e.o=4,Bn(14),i=!1),Pn(e.j,e.m,null,"[Incomplete Response]");break}if(r==rr){e.o=4,Bn(15),Pn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Pn(e.j,e.m,r,null),mr(e,r)}ar(e)&&r!=ir&&r!=rr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ai(t),t.M=!0,Bn(11))):(Pn(e.j,e.m,n,"[Invalid Chunked Response]"),pr(e),fr(e))}function ur(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ir:(n=Number(t.substring(n,r)),isNaN(n)?rr:(r+=1)+n>t.length?ir:(t=t.slice(r,r+n),e.C=r+n,t))}function cr(e){e.Y=Date.now()+e.P,hr(e,e.P)}function hr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qn(ht(e.lb,e),t)}function dr(e){e.B&&(it.clearTimeout(e.B),e.B=null)}function fr(e){0==e.l.H||e.J||Ri(e.l,e)}function pr(e){dr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Cn(e.V),Ln(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function mr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Hr(n.i,e)))if(!e.K&&Hr(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(xf){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Li(n),Si(n)}Ni(n),Bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=qn(ht(n.ib,n),6e3));if(1>=qr(n.i)&&n.oa){try{n.oa()}catch(xf){}n.oa=void 0}}else Oi(n,11)}else if((e.K||n.g==e)&&Li(n),!wt(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Kr(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,kr(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Fi(r,r.J?r.pa:null,r.Y),o.K){Qr(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(dr(a),cr(a)),r.g=o}else xi(r);0<n.j.length&&_i(n)}else"stop"!=u[0]&&"close"!=u[0]||Oi(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Oi(n,7):Ei(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Un()}catch(xf){}}function gr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(st(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(st(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(st(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(et=er.prototype).setTimeout=function(e){this.P=e},et.nb=function(e){e=e.target;const t=this.M;t&&3==mi(e)?t.l():this.Pa(e)},et.Pa=function(e){try{if(e==this.g)e:{const c=mi(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||Nt||this.g&&(this.h.h||this.g.ja()||gi(this.g)))){this.J||4!=c||7==t||Un(),dr(this);var n=this.g.da();this.ca=n;t:if(ar(this)){var r=gi(this.g);e="";var i=r.length,s=4==mi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pr(this),fr(this);var o="";break t}this.h.i=new it.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wt(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Bn(12),pr(this),fr(this);break e}Pn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mr(this,n)}this.S?(lr(this,c,o),Nt&&this.i&&3==c&&(Dn(this.U,this.V,"tick",this.mb),this.V.start())):(Pn(this.j,this.m,o,null),mr(this,o)),4==c&&pr(this),this.i&&!this.J&&(4==c?Ri(this.l,this):(this.i=!1,cr(this)))}else(function(e){const t={};e=(e.g&&2<=mi(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(wt(e[r]))continue;var n=yn(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),pr(this),fr(this)}}}catch(Cf){}},et.mb=function(){if(this.g){var e=mi(this.g),t=this.g.ja();this.C<t.length&&(dr(this),lr(this,e,t),this.i&&4!=e&&cr(this))}},et.cancel=function(){this.J=!0,pr(this)},et.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Un(),Bn(17)),pr(this),this.o=2,fr(this)):hr(this,this.Y-e)};var yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof vr){this.h=e.h,wr(this,e.j),this.s=e.s,this.g=e.g,Er(this,e.m),this.l=e.l;var t=e.i,n=new Rr;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Sr(this,n),this.o=e.o}else e&&(t=String(e).match(yr))?(this.h=!1,wr(this,t[1]||"",!0),this.s=Cr(t[2]||""),this.g=Cr(t[3]||"",!0),Er(this,t[4]),this.l=Cr(t[5]||"",!0),Sr(this,t[6]||"",!0),this.o=Cr(t[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}function br(e){return new vr(e)}function wr(e,t,n){e.j=n?Cr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Er(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sr(e,t,n){t instanceof Rr?(e.i=t,function(e,t){t&&!e.j&&(Pr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Or(this,t),Fr(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Tr(t,Dr)),e.i=new Rr(t,e.h))}function kr(e,t,n){e.i.set(t,n)}function _r(e){return kr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ir),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ir(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tr(t,xr,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Tr(t,xr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Tr(n,"/"==n.charAt(0)?Ar:Nr,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tr(n,Lr)),e.join("")};var xr=/[#\/\?@]/g,Nr=/[#\?:]/g,Ar=/[#\?]/g,Dr=/[#\?@]/g,Lr=/#/g;function Rr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pr(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Or(e,t){Pr(e),t=Vr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mr(e,t){return Pr(e),t=Vr(e,t),e.g.has(t)}function Fr(e,t,n){Or(e,t),0<n.length&&(e.i=null,e.g.set(Vr(e,t),gt(n)),e.h+=n.length)}function Vr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(et=Rr.prototype).add=function(e,t){Pr(this),this.i=null,e=Vr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},et.forEach=function(e,t){Pr(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},et.ta=function(){Pr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},et.Z=function(e){Pr(this);let t=[];if("string"===typeof e)Mr(this,e)&&(t=t.concat(this.g.get(Vr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},et.set=function(e,t){return Pr(this),this.i=null,Mr(this,e=Vr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},et.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Ur=class{constructor(e,t){this.g=e,this.map=t}};function zr(e){this.l=e||Br,it.PerformanceNavigationTiming?e=0<(e=it.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Br=10;function jr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qr(e){return e.h?1:e.g?e.g.size:0}function Hr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Kr(e,t){e.g?e.g.add(t):e.h=t}function Qr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Wr(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return gt(e.i)}zr.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Gr,Yr=class{stringify(e){return it.JSON.stringify(e,void 0)}parse(e){return it.JSON.parse(e,void 0)}};function $r(){this.g=new Yr}function Xr(e,t,n){const r=n||"";try{gr(e,(function(e,n){let i=e;ot(e)&&(i=fn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Nf){}}function Zr(e){this.l=e.fc||null,this.j=e.ob||!1}function ei(e,t){cn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ti,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(Zr,Qn),Zr.prototype.g=function(){return new ei(this.l,this.j)},Zr.prototype.i=(Gr={},function(){return Gr}),ft(ei,cn);var ti=0;function ni(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ri(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ii(e)}function ii(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(et=ei.prototype).open=function(e,t){if(this.readyState!=ti)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ii(this)},et.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||it).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ri(this)),this.readyState=ti},et.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof it.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ni(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ri(this):ii(this),3==this.readyState&&ni(this)}},et.Za=function(e){this.g&&(this.response=this.responseText=e,ri(this))},et.Ya=function(e){this.g&&(this.response=e,ri(this))},et.ka=function(){this.g&&ri(this)},et.setRequestHeader=function(e,t){this.v.append(e,t)},et.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var si=it.JSON.parse;function oi(e){cn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ai,this.L=this.M=!1}ft(oi,cn);var ai="",li=/^https?$/i,ui=["POST","PUT"];function ci(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hi(e),fi(e)}function hi(e){e.F||(e.F=!0,hn(e,"complete"),hn(e,"error"))}function di(e){if(e.h&&"undefined"!=typeof rt&&(!e.C[1]||4!=mi(e)||2!=e.da()))if(e.v&&4==mi(e))Tn(e.La,0,e);else if(hn(e,"readystatechange"),4==mi(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(yr)[1]||null;!i&&it.self&&it.self.location&&(i=it.self.location.protocol.slice(0,-1)),r=!li.test(i?i.toLowerCase():"")}n=r}if(n)hn(e,"complete"),hn(e,"success");else{e.m=6;try{var s=2<mi(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",hi(e)}}finally{fi(e)}}}function fi(e,t){if(e.g){pi(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||hn(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function pi(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(it.clearTimeout(e.A),e.A=null)}function mi(e){return e.g?e.g.readyState:0}function gi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ai:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Es){return null}}function yi(e){let t="";return Ht(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function vi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yi(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):kr(e,t,n))}function bi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wi(e){this.Ga=0,this.j=[],this.l=new Rn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bi("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bi("baseRetryDelayMs",5e3,e),this.hb=bi("retryDelaySeedMs",1e4,e),this.eb=bi("forwardChannelMaxRetries",2,e),this.xa=bi("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new zr(e&&e.concurrentRequestLimit),this.Ja=new $r,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ei(e){if(ki(e),3==e.H){var t=e.W++,n=br(e.I);if(kr(n,"SID",e.K),kr(n,"RID",t),kr(n,"TYPE","terminate"),Ti(e,n),(t=new er(e,e.l,t)).L=2,t.v=_r(br(n)),n=!1,it.navigator&&it.navigator.sendBeacon)try{n=it.navigator.sendBeacon(t.v.toString(),"")}catch(Tf){}!n&&it.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vi(t.l,null),t.g.ha(t.v)),t.G=Date.now(),cr(t)}Mi(e)}function Si(e){e.g&&(Ai(e),e.g.cancel(),e.g=null)}function ki(e){Si(e),e.u&&(it.clearTimeout(e.u),e.u=null),Li(e),e.i.cancel(),e.m&&("number"===typeof e.m&&it.clearTimeout(e.m),e.m=null)}function _i(e){if(!jr(e.i)&&!e.m){e.m=!0;var t=e.Na;bn||Sn(),wn||(bn(),wn=!0),En.add(t,e),e.C=0}}function Ci(e,t){var n;n=t?t.m:e.W++;const r=br(e.I);kr(r,"SID",e.K),kr(r,"RID",n),kr(r,"AID",e.V),Ti(e,r),e.o&&e.s&&vi(r,e.o,e.s),n=new er(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ii(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Kr(e.i,n),sr(n,r,t)}function Ti(e,t){e.na&&Ht(e.na,(function(e,n){kr(t,n,e)})),e.h&&gr({},(function(e,n){kr(t,n,e)}))}function Ii(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ht(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Xr(a,e,"req"+n+"_")}catch(Ls){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function xi(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;bn||Sn(),wn||(bn(),wn=!0),En.add(t,e),e.A=0}}function Ni(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=qn(ht(e.Ma,e),Pi(e,e.A)),e.A++,!0)}function Ai(e){null!=e.B&&(it.clearTimeout(e.B),e.B=null)}function Di(e){e.g=new er(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=br(e.wa);kr(t,"RID","rpc"),kr(t,"SID",e.K),kr(t,"AID",e.V),kr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&kr(t,"TO",e.qa),kr(t,"TYPE","xmlhttp"),Ti(e,t),e.o&&e.s&&vi(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=_r(br(t)),n.s=null,n.S=!0,or(n,e)}function Li(e){null!=e.v&&(it.clearTimeout(e.v),e.v=null)}function Ri(e,t){var n=null;if(e.g==t){Li(e),Ai(e),e.g=null;var r=2}else{if(!Hr(e.i,t))return;n=t.F,Qr(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;hn(r=Fn(),new jn(r,n)),_i(e)}else xi(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(qr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=qn(ht(e.Na,e,t),Pi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ni(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Oi(e,5);break;case 4:Oi(e,10);break;case 3:Oi(e,6);break;default:Oi(e,2)}}function Pi(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Oi(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ht(e.pb,e);n||(n=new vr("//www.google.com/images/cleardot.gif"),it.location&&"http"==it.location.protocol||wr(n,"https"),_r(n)),function(e,t){const n=new Rn;if(it.Image){const r=new Image;r.onload=dt(Jr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dt(Jr,n,r,"TestLoadImage: error",!1,t),r.onabort=dt(Jr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dt(Jr,n,r,"TestLoadImage: timeout",!1,t),it.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bn(2);e.H=0,e.h&&e.h.za(t),Mi(e),ki(e)}function Mi(e){if(e.H=0,e.ma=[],e.h){const t=Wr(e.i);0==t.length&&0==e.j.length||(yt(e.ma,t),yt(e.ma,e.j),e.i.i.length=0,gt(e.j),e.j.length=0),e.h.ya()}}function Fi(e,t,n){var r=n instanceof vr?br(n):new vr(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Er(r,r.m);else{var i=it.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new vr(null);r&&wr(s,r),t&&(s.g=t),i&&Er(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&kr(r,n,t),kr(r,"VER",e.ra),Ti(e,r),r}function Vi(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new oi(new Zr({ob:!0})):new oi(e.va)).Oa(e.J),t}function Ui(){}function zi(){if(It&&!(10<=Number(Ft)))throw Error("Environmental error: no available transport.")}function Bi(e,t){cn.call(this),this.g=new wi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!wt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wt(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hi(this)}function ji(e){Xn.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qi(){Jn.call(this),this.status=1}function Hi(e){this.g=e}function Ki(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qi(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Wi(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(et=oi.prototype).Oa=function(e){this.M=e},et.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yn.g(),this.C=this.u?Wn(this.u):Wn(Yn),this.g.onreadystatechange=ht(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Nf){return void ci(this,Nf)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=it.FormData&&e instanceof it.FormData,!(0<=mt(ui,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pi(this),0<this.B&&((this.L=function(e){return It&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.ua,this)):this.A=Tn(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Nf){ci(this,Nf)}},et.ua=function(){"undefined"!=typeof rt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))},et.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hn(this,"complete"),hn(this,"abort"),fi(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fi(this,!0)),oi.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?di(this):this.kb())},et.kb=function(){di(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<mi(this)?this.g.status:-1}catch(Gr){return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch(Gr){return""}},et.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),si(t)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(et=wi.prototype).ra=8,et.H=1,et.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new er(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Kt(s),Wt(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ii(this,i,t),kr(n=br(this.I),"RID",e),kr(n,"CVER",22),this.F&&kr(n,"X-HTTP-Session-Id",this.F),Ti(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(yi(s)))+"&"+t:this.o&&vi(n,this.o,s)),Kr(this.i,i),this.bb&&kr(n,"TYPE","init"),this.P?(kr(n,"$req",t),kr(n,"SID","null"),i.aa=!0,sr(i,n,null)):sr(i,n,t),this.H=2}}else 3==this.H&&(e?Ci(this,e):0==this.j.length||jr(this.i)||Ci(this))},et.Ma=function(){if(this.u=null,Di(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=qn(ht(this.jb,this),e)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),Si(this),Di(this))},et.ib=function(){null!=this.v&&(this.v=null,Si(this),Ni(this),Bn(19))},et.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=Ui.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},zi.prototype.g=function(e,t){return new Bi(e,t)},ft(Bi,cn),Bi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Bn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Fi(e,null,e.Y),_i(e)},Bi.prototype.close=function(){Ei(this.g)},Bi.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=fn(e),e=n);t.j.push(new Ur(t.fb++,e)),3==t.H&&_i(t)},Bi.prototype.N=function(){this.g.h=null,delete this.j,Ei(this.g),delete this.g,Bi.$.N.call(this)},ft(ji,Xn),ft(qi,Jn),ft(Hi,Ui),Hi.prototype.Ba=function(){hn(this.g,"a")},Hi.prototype.Aa=function(e){hn(this.g,new ji(e))},Hi.prototype.za=function(e){hn(this.g,new qi)},Hi.prototype.ya=function(){hn(this.g,"b")},ft(Ki,(function(){this.blockSize=-1})),Ki.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ki.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Qi(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Qi(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Qi(this,r),i=0;break}}this.h=i,this.i+=t},Ki.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Gi={};function Yi(e){return-128<=e&&128>e?function(e,t){var n=Gi;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Wi([0|e],0>e?-1:0)})):new Wi([0|e],0>e?-1:0)}function $i(e){if(isNaN(e)||!isFinite(e))return Ji;if(0>e)return rs($i(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Xi;return new Wi(t,0)}var Xi=4294967296,Ji=Yi(0),Zi=Yi(1),es=Yi(16777216);function ts(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ns(e){return-1==e.h}function rs(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Wi(n,~e.h).add(Zi)}function is(e,t){return e.add(rs(t))}function ss(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function os(e,t){this.g=e,this.h=t}function as(e,t){if(ts(t))throw Error("division by zero");if(ts(e))return new os(Ji,Ji);if(ns(e))return t=as(rs(e),t),new os(rs(t.g),rs(t.h));if(ns(t))return t=as(e,rs(t)),new os(rs(t.g),t.h);if(30<e.g.length){if(ns(e)||ns(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Zi,r=t;0>=r.X(e);)n=ls(n),r=ls(r);var i=us(n,1),s=us(r,1);for(r=us(r,2),n=us(n,2);!ts(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=us(r,1),n=us(n,1)}return t=is(e,i.R(t)),new os(i,t)}for(i=Ji;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=$i(n)).R(t);ns(o)||0<o.X(e);)o=(s=$i(n-=r)).R(t);ts(s)&&(s=Zi),i=i.add(s),e=is(e,o)}return new os(i,e)}function ls(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Wi(n,e.h)}function us(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Wi(i,e.h)}(et=Wi.prototype).ea=function(){if(ns(this))return-rs(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Xi+r)*t,t*=Xi}return e},et.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ts(this))return"0";if(ns(this))return"-"+rs(this).toString(e);for(var t=$i(Math.pow(e,6)),n=this,r="";;){var i=as(n,t).g,s=((0<(n=is(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ts(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},et.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},et.X=function(e){return ns(e=is(this,e))?-1:ts(e)?0:1},et.abs=function(){return ns(this)?rs(this):this},et.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Wi(n,-2147483648&n[n.length-1]?-1:0)},et.R=function(e){if(ts(this)||ts(e))return Ji;if(ns(this))return ns(e)?rs(this).R(rs(e)):rs(rs(this).R(e));if(ns(e))return rs(this.R(rs(e)));if(0>this.X(es)&&0>e.X(es))return $i(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,ss(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ss(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ss(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ss(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Wi(n,0)},et.gb=function(e){return as(this,e).h},et.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Wi(n,this.h&e.h)},et.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Wi(n,this.h|e.h)},et.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Wi(n,this.h^e.h)},zi.prototype.createWebChannel=zi.prototype.g,Bi.prototype.send=Bi.prototype.u,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,Hn.NO_ERROR=0,Hn.TIMEOUT=8,Hn.HTTP_ERROR=6,Kn.COMPLETE="complete",Gn.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",cn.prototype.listen=cn.prototype.O,oi.prototype.listenOnce=oi.prototype.P,oi.prototype.getLastError=oi.prototype.Sa,oi.prototype.getLastErrorCode=oi.prototype.Ia,oi.prototype.getStatus=oi.prototype.da,oi.prototype.getResponseJson=oi.prototype.Wa,oi.prototype.getResponseText=oi.prototype.ja,oi.prototype.send=oi.prototype.ha,oi.prototype.setWithCredentials=oi.prototype.Oa,Ki.prototype.digest=Ki.prototype.l,Ki.prototype.reset=Ki.prototype.reset,Ki.prototype.update=Ki.prototype.j,Wi.prototype.add=Wi.prototype.add,Wi.prototype.multiply=Wi.prototype.R,Wi.prototype.modulo=Wi.prototype.gb,Wi.prototype.compare=Wi.prototype.X,Wi.prototype.toNumber=Wi.prototype.ea,Wi.prototype.toString=Wi.prototype.toString,Wi.prototype.getBits=Wi.prototype.D,Wi.fromNumber=$i,Wi.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return rs(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=$i(Math.pow(n,8)),i=Ji,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=$i(Math.pow(n,o)),i=i.R(o).add($i(a))):i=(i=i.R(r)).add($i(a))}return i};var cs=nt.createWebChannelTransport=function(){return new zi},hs=nt.getStatEventTarget=function(){return Fn()},ds=nt.ErrorCode=Hn,fs=nt.EventType=Kn,ps=nt.Event=On,ms=nt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gs=nt.FetchXmlHttpFactory=Zr,ys=nt.WebChannel=Gn,vs=nt.XhrIo=oi,bs=nt.Md5=Ki,ws=nt.Integer=Wi;const Es="@firebase/firestore";class Ss{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ss.UNAUTHENTICATED=new Ss(null),Ss.GOOGLE_CREDENTIALS=new Ss("google-credentials-uid"),Ss.FIRST_PARTY=new Ss("first-party-uid"),Ss.MOCK_USER=new Ss("mock-user");let ks="9.23.0";const _s=new U("@firebase/firestore");function Cs(){return _s.logLevel}function Ts(e){if(_s.logLevel<=P.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ns);_s.debug("Firestore (".concat(ks,"): ").concat(e),...i)}}function Is(e){if(_s.logLevel<=P.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ns);_s.error("Firestore (".concat(ks,"): ").concat(e),...i)}}function xs(e){if(_s.logLevel<=P.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ns);_s.warn("Firestore (".concat(ks,"): ").concat(e),...i)}}function Ns(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function As(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ks,") INTERNAL ASSERTION FAILED: ")+e;throw Is(t),new Error(t)}function Ds(e,t){e||As()}function Ls(e,t){return e}const Rs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ps extends k{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ms{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Fs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ss.UNAUTHENTICATED)))}shutdown(){}}class Vs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Us{constructor(e){this.t=e,this.currentUser=Ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Os,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Ts("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ts("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Os)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ts("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ds("string"==typeof t.accessToken),new Ms(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ds(null===e||"string"==typeof e),new Ss(e)}}class zs{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ss.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Bs{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new zs(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Ss.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class js{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qs{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Ts("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Ts("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ts("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Ts("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ds("string"==typeof e.token),this.T=e.token,new js(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ks{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Hs(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Qs(e,t){return e<t?-1:e>t?1:0}function Ws(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Gs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ps(Rs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ps(Rs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ps(Rs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ps(Rs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gs.fromMillis(Date.now())}static fromDate(e){return Gs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Gs(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qs(this.nanoseconds,e.nanoseconds):Qs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ys{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ys(e)}static min(){return new Ys(new Gs(0,0))}static max(){return new Ys(new Gs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $s{constructor(e,t,n){void 0===t?t=0:t>e.length&&As(),void 0===n?n=e.length-t:n>e.length-t&&As(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$s.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $s?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xs extends $s{construct(e,t,n){return new Xs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ps(Rs.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Xs(e)}static emptyPath(){return new Xs([])}}const Js=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zs extends $s{construct(e,t,n){return new Zs(e,t,n)}static isValidIdentifier(e){return Js.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zs(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ps(Rs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ps(Rs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ps(Rs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ps(Rs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zs(t)}static emptyPath(){return new Zs([])}}class eo{constructor(e){this.path=e}static fromPath(e){return new eo(Xs.fromString(e))}static fromName(e){return new eo(Xs.fromString(e).popFirst(5))}static empty(){return new eo(Xs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new eo(new Xs(e.slice()))}}class to{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}to.UNKNOWN_ID=-1;function no(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ys.fromTimestamp(1e9===r?new Gs(n+1,0):new Gs(n,r));return new io(i,eo.empty(),t)}function ro(e){return new io(e.readTime,e.key,-1)}class io{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new io(Ys.min(),eo.empty(),-1)}static max(){return new io(Ys.max(),eo.empty(),-1)}}function so(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=eo.comparator(e.documentKey,t.documentKey),0!==n?n:Qs(e.largestBatchId,t.largestBatchId))}const oo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ao{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lo(e){if(e.code!==Rs.FAILED_PRECONDITION||e.message!==oo)throw e;Ts("LocalStore","Unexpectedly lost primary lease")}class uo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&As(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new uo(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof uo?t:uo.resolve(t)}catch(e){return uo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):uo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):uo.reject(t)}static resolve(e){return new uo(((t,n)=>{t(e)}))}static reject(e){return new uo(((t,n)=>{n(e)}))}static waitFor(e){return new uo(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=uo.resolve(!1);for(const n of e)t=t.next((e=>e?uo.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new uo(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new uo(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function co(e){return"IndexedDbTransactionError"===e.name}class ho{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function fo(e){return null==e}function po(e){return 0===e&&1/e==-1/0}function mo(e){return"number"==typeof e&&Number.isInteger(e)&&!po(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ho.ct=-1;const go=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vo=yo;function bo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Eo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class So{constructor(e,t){this.comparator=e,this.root=t||_o.EMPTY}insert(e,t){return new So(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_o.BLACK,null,null))}remove(e){return new So(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_o.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ko(this.root,e,this.comparator,!0)}}class ko{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _o{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_o.RED,this.left=null!=r?r:_o.EMPTY,this.right=null!=i?i:_o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _o(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _o.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw As();if(this.right.isRed())throw As();const e=this.left.check();if(e!==this.right.check())throw As();return e+(this.isRed()?0:1)}}_o.EMPTY=null,_o.RED=!0,_o.BLACK=!1,_o.EMPTY=new class{constructor(){this.size=0}get key(){throw As()}get value(){throw As()}get color(){throw As()}get left(){throw As()}get right(){throw As()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _o(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Co{constructor(e){this.comparator=e,this.data=new So(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new To(this.data.getIterator())}getIteratorFrom(e){return new To(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Co))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Co(this.comparator);return t.data=e,t}}class To{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Io{constructor(e){this.fields=e,e.sort(Zs.comparator)}static empty(){return new Io([])}unionWith(e){let t=new Co(Zs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class xo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class No{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xo("Invalid base64 string: "+e):e}}(e);return new No(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new No(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}No.EMPTY_BYTE_STRING=new No("");const Ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(e){if(Ds(!!e),"string"==typeof e){let t=0;const n=Ao.exec(e);if(Ds(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Lo(e.seconds),nanos:Lo(e.nanos)}}function Lo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ro(e){return"string"==typeof e?No.fromBase64String(e):No.fromUint8Array(e)}function Po(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oo(e){const t=e.mapValue.fields.__previous_value__;return Po(t)?Oo(t):t}function Mo(e){const t=Do(e.mapValue.fields.__local_write_time__.timestampValue);return new Gs(t.seconds,t.nanos)}class Fo{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Vo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Po(e)?4:Zo(e)?9007199254740991:10:As()}function Bo(e,t){if(e===t)return!0;const n=zo(e);if(n!==zo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mo(e).isEqual(Mo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Do(e.timestampValue),r=Do(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ro(e.bytesValue).isEqual(Ro(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Lo(e.geoPointValue.latitude)===Lo(t.geoPointValue.latitude)&&Lo(e.geoPointValue.longitude)===Lo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Lo(e.integerValue)===Lo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Lo(e.doubleValue),r=Lo(t.doubleValue);return n===r?po(n)===po(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ws(e.arrayValue.values||[],t.arrayValue.values||[],Bo);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bo(n)!==bo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bo(n[i],r[i])))return!1;return!0}(e,t);default:return As()}}function jo(e,t){return void 0!==(e.values||[]).find((e=>Bo(e,t)))}function qo(e,t){if(e===t)return 0;const n=zo(e),r=zo(t);if(n!==r)return Qs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Lo(e.integerValue||e.doubleValue),r=Lo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ho(e.timestampValue,t.timestampValue);case 4:return Ho(Mo(e),Mo(t));case 5:return Qs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ro(e),r=Ro(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Qs(n[i],r[i]);if(0!==e)return e}return Qs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Qs(Lo(e.latitude),Lo(t.latitude));return 0!==n?n:Qs(Lo(e.longitude),Lo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=qo(n[i],r[i]);if(e)return e}return Qs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Uo.mapValue&&t===Uo.mapValue)return 0;if(e===Uo.mapValue)return 1;if(t===Uo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Qs(r[o],s[o]);if(0!==e)return e;const t=qo(n[r[o]],i[s[o]]);if(0!==t)return t}return Qs(r.length,s.length)}(e.mapValue,t.mapValue);default:throw As()}}function Ho(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qs(e,t);const n=Do(e),r=Do(t),i=Qs(n.seconds,r.seconds);return 0!==i?i:Qs(n.nanos,r.nanos)}function Ko(e){return Qo(e)}function Qo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Do(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ro(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,eo.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Qo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Qo(e.fields[i]));return n+"}"}(e.mapValue):As();var t,n}function Wo(e){return!!e&&"integerValue"in e}function Go(e){return!!e&&"arrayValue"in e}function Yo(e){return!!e&&"nullValue"in e}function $o(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xo(e){return!!e&&"mapValue"in e}function Jo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Jo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ea{constructor(e){this.value=e}static empty(){return new ea({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(t)}setAll(e){let t=Zs.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Jo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ea(Jo(this.value))}}function ta(e){const t=[];return wo(e.fields,((e,n)=>{const r=new Zs([e]);if(Xo(n)){const e=ta(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Io(t)}class na{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new na(e,0,Ys.min(),Ys.min(),Ys.min(),ea.empty(),0)}static newFoundDocument(e,t,n,r){return new na(e,1,t,Ys.min(),n,r,0)}static newNoDocument(e,t){return new na(e,2,t,Ys.min(),Ys.min(),ea.empty(),0)}static newUnknownDocument(e,t){return new na(e,3,t,Ys.min(),Ys.min(),ea.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ys.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ea.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ys.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof na&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new na(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ra{constructor(e,t){this.position=e,this.inclusive=t}}function ia(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?eo.comparator(eo.fromName(o.referenceValue),n.key):qo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bo(e.position[n],t.position[n]))return!1;return!0}class oa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function aa(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class la{}class ua extends la{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ya(e,t,n):"array-contains"===t?new Ea(e,n):"in"===t?new Sa(e,n):"not-in"===t?new ka(e,n):"array-contains-any"===t?new _a(e,n):new ua(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new va(e,n):new ba(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qo(t,this.value)):null!==t&&zo(this.value)===zo(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return As()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ca extends la{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ca(e,t)}matches(e){return ha(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ha(e){return"and"===e.op}function da(e){return fa(e)&&ha(e)}function fa(e){for(const t of e.filters)if(t instanceof ca)return!1;return!0}function pa(e){if(e instanceof ua)return e.field.canonicalString()+e.op.toString()+Ko(e.value);if(da(e))return e.filters.map((e=>pa(e))).join(",");{const t=e.filters.map((e=>pa(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function ma(e,t){return e instanceof ua?function(e,t){return t instanceof ua&&e.op===t.op&&e.field.isEqual(t.field)&&Bo(e.value,t.value)}(e,t):e instanceof ca?function(e,t){return t instanceof ca&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ma(n,t.filters[r])),!0)}(e,t):void As()}function ga(e){return e instanceof ua?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ko(e.value))}(e):e instanceof ca?function(e){return e.op.toString()+" {"+e.getFilters().map(ga).join(" ,")+"}"}(e):"Filter"}class ya extends ua{constructor(e,t,n){super(e,t,n),this.key=eo.fromName(n.referenceValue)}matches(e){const t=eo.comparator(e.key,this.key);return this.matchesComparison(t)}}class va extends ua{constructor(e,t){super(e,"in",t),this.keys=wa("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ba extends ua{constructor(e,t){super(e,"not-in",t),this.keys=wa("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>eo.fromName(e.referenceValue)))}class Ea extends ua{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Go(t)&&jo(t.arrayValue,this.value)}}class Sa extends ua{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jo(this.value.arrayValue,t)}}class ka extends ua{constructor(e,t){super(e,"not-in",t)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jo(this.value.arrayValue,t)}}class _a extends ua{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Go(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>jo(this.value.arrayValue,e)))}}class Ca{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function Ta(e){return new Ca(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ia(e){const t=Ls(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>pa(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),fo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ko(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ko(e))).join(",")),t.dt=e}return t.dt}function xa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aa(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ma(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sa(e.startAt,t.startAt)&&sa(e.endAt,t.endAt)}function Na(e){return eo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Aa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Da(e,t,n,r,i,s,o,a){return new Aa(e,t,n,r,i,s,o,a)}function La(e){return new Aa(e)}function Ra(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pa(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Oa(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ma(e){return null!==e.collectionGroup}function Fa(e){const t=Ls(e);if(null===t.wt){t.wt=[];const e=Oa(t),n=Pa(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new oa(e)),t.wt.push(new oa(Zs.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new oa(Zs.keyField(),e))}}}return t.wt}function Va(e){const t=Ls(e);if(!t._t)if("F"===t.limitType)t._t=Ta(t.path,t.collectionGroup,Fa(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Fa(t)){const t="desc"===i.dir?"asc":"desc";e.push(new oa(i.field,t))}const n=t.endAt?new ra(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ra(t.startAt.position,t.startAt.inclusive):null;t._t=Ta(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Ua(e,t,n){return new Aa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function za(e,t){return xa(Va(e),Va(t))&&e.limitType===t.limitType}function Ba(e){return"".concat(Ia(Va(e)),"|lt:").concat(e.limitType)}function ja(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ga(e))).join(", "),"]")),fo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ko(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ko(e))).join(",")),"Target(".concat(t,")")}(Va(e)),"; limitType=").concat(e.limitType,")")}function qa(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):eo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Fa(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ia(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fa(e),t))&&!(e.endAt&&!function(e,t,n){const r=ia(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fa(e),t))}(e,t)}function Ha(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ka(e){return(t,n)=>{let r=!1;for(const i of Fa(e)){const e=Qa(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qa(e,t,n){const r=e.field.isKeyField()?eo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qo(r,i):As()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return As()}}class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Eo(this.inner)}size(){return this.innerSize}}const Ga=new So(eo.comparator);function Ya(){return Ga}const $a=new So(eo.comparator);function Xa(){let e=$a;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ja(e){let t=$a;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Za(){return tl()}function el(){return tl()}function tl(){return new Wa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const nl=new So(eo.comparator),rl=new Co(eo.comparator);function il(){let e=rl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const sl=new Co(Qs);function ol(){return sl}function al(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:po(t)?"-0":t}}function ll(e){return{integerValue:""+e}}function ul(e,t){return mo(t)?ll(t):al(e,t)}class cl{constructor(){this._=void 0}}function hl(e,t,n){return e instanceof pl?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Po(t)&&(t=Oo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ml?gl(e,t):e instanceof yl?vl(e,t):function(e,t){const n=fl(e,t),r=wl(n)+wl(e.gt);return Wo(n)&&Wo(e.gt)?ll(r):al(e.serializer,r)}(e,t)}function dl(e,t,n){return e instanceof ml?gl(e,t):e instanceof yl?vl(e,t):n}function fl(e,t){return e instanceof bl?Wo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class pl extends cl{}class ml extends cl{constructor(e){super(),this.elements=e}}function gl(e,t){const n=El(t);for(const r of e.elements)n.some((e=>Bo(e,r)))||n.push(r);return{arrayValue:{values:n}}}class yl extends cl{constructor(e){super(),this.elements=e}}function vl(e,t){let n=El(t);for(const r of e.elements)n=n.filter((e=>!Bo(e,r)));return{arrayValue:{values:n}}}class bl extends cl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function wl(e){return Lo(e.integerValue||e.doubleValue)}function El(e){return Go(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Sl{constructor(e,t){this.field=e,this.transform=t}}class kl{constructor(e,t){this.version=e,this.transformResults=t}}class _l{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _l}static exists(e){return new _l(void 0,e)}static updateTime(e){return new _l(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Tl{}function Il(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Fl(e.key,_l.none()):new Ll(e.key,e.data,_l.none());{const n=e.data,r=ea.empty();let i=new Co(Zs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Rl(e.key,r,new Io(i.toArray()),_l.none())}}function xl(e,t,n){e instanceof Ll?function(e,t,n){const r=e.value.clone(),i=Ol(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Rl?function(e,t,n){if(!Cl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ol(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nl(e,t,n,r){return e instanceof Ll?function(e,t,n,r){if(!Cl(e.precondition,t))return n;const i=e.value.clone(),s=Ml(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Rl?function(e,t,n,r){if(!Cl(e.precondition,t))return n;const i=Ml(e.fieldTransforms,r,t),s=t.data;return s.setAll(Pl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Cl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Al(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=fl(r.transform,e||null);null!=i&&(null===n&&(n=ea.empty()),n.set(r.field,i))}return n||null}function Dl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ws(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ml&&t instanceof ml||e instanceof yl&&t instanceof yl?Ws(e.elements,t.elements,Bo):e instanceof bl&&t instanceof bl?Bo(e.gt,t.gt):e instanceof pl&&t instanceof pl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ll extends Tl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Rl extends Tl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Pl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ol(e,t,n){const r=new Map;Ds(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,dl(o,a,n[i]))}return r}function Ml(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,hl(e,s,t))}return r}class Fl extends Tl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vl extends Tl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ul{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&xl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Nl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Nl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=el();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Il(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Ys.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),il())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,((e,t)=>Dl(e,t)))&&Ws(this.baseMutations,e.baseMutations,((e,t)=>Dl(e,t)))}}class zl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ds(e.mutations.length===n.length);let r=nl;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new zl(e,t,n,r)}}class Bl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class jl{constructor(e,t){this.count=e,this.unchangedNames=t}}var ql,Hl;function Kl(e){switch(e){default:return As();case Rs.CANCELLED:case Rs.UNKNOWN:case Rs.DEADLINE_EXCEEDED:case Rs.RESOURCE_EXHAUSTED:case Rs.INTERNAL:case Rs.UNAVAILABLE:case Rs.UNAUTHENTICATED:return!1;case Rs.INVALID_ARGUMENT:case Rs.NOT_FOUND:case Rs.ALREADY_EXISTS:case Rs.PERMISSION_DENIED:case Rs.FAILED_PRECONDITION:case Rs.ABORTED:case Rs.OUT_OF_RANGE:case Rs.UNIMPLEMENTED:case Rs.DATA_LOSS:return!0}}function Ql(e){if(void 0===e)return Is("GRPC error has no .code"),Rs.UNKNOWN;switch(e){case ql.OK:return Rs.OK;case ql.CANCELLED:return Rs.CANCELLED;case ql.UNKNOWN:return Rs.UNKNOWN;case ql.DEADLINE_EXCEEDED:return Rs.DEADLINE_EXCEEDED;case ql.RESOURCE_EXHAUSTED:return Rs.RESOURCE_EXHAUSTED;case ql.INTERNAL:return Rs.INTERNAL;case ql.UNAVAILABLE:return Rs.UNAVAILABLE;case ql.UNAUTHENTICATED:return Rs.UNAUTHENTICATED;case ql.INVALID_ARGUMENT:return Rs.INVALID_ARGUMENT;case ql.NOT_FOUND:return Rs.NOT_FOUND;case ql.ALREADY_EXISTS:return Rs.ALREADY_EXISTS;case ql.PERMISSION_DENIED:return Rs.PERMISSION_DENIED;case ql.FAILED_PRECONDITION:return Rs.FAILED_PRECONDITION;case ql.ABORTED:return Rs.ABORTED;case ql.OUT_OF_RANGE:return Rs.OUT_OF_RANGE;case ql.UNIMPLEMENTED:return Rs.UNIMPLEMENTED;case ql.DATA_LOSS:return Rs.DATA_LOSS;default:return As()}}(Hl=ql||(ql={}))[Hl.OK=0]="OK",Hl[Hl.CANCELLED=1]="CANCELLED",Hl[Hl.UNKNOWN=2]="UNKNOWN",Hl[Hl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hl[Hl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hl[Hl.NOT_FOUND=5]="NOT_FOUND",Hl[Hl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hl[Hl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hl[Hl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hl[Hl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hl[Hl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hl[Hl.ABORTED=10]="ABORTED",Hl[Hl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hl[Hl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hl[Hl.INTERNAL=13]="INTERNAL",Hl[Hl.UNAVAILABLE=14]="UNAVAILABLE",Hl[Hl.DATA_LOSS=15]="DATA_LOSS";class Wl{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Gl}static getOrCreateInstance(){return null===Gl&&(Gl=new Wl),Gl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Gl=null;function Yl(){return new TextEncoder}const $l=new ws([4294967295,4294967295],0);function Xl(e){const t=Yl().encode(e),n=new bs;return n.update(t),new Uint8Array(n.digest())}function Jl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ws([n,r],0),new ws([i,s],0)]}class Zl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new eu("Invalid padding: ".concat(t));if(n<0)throw new eu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new eu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new eu("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=ws.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(ws.fromNumber(n)));return 1===r.compare($l)&&(r=new ws([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Xl(e),[n,r]=Jl(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Zl(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Xl(e),[n,r]=Jl(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new tu(Ys.min(),r,new So(Qs),Ya(),il())}}class nu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new nu(n,t,il(),il(),il())}}class ru{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class iu{constructor(e,t){this.targetId=e,this.Vt=t}}class su{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:No.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ou{constructor(){this.St=0,this.Dt=uu(),this.Ct=No.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=il(),t=il(),n=il();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:As()}})),new nu(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=uu()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class au{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ya(),this.zt=lu(),this.Wt=new So(Qs)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:As()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Na(s))if(0===r){const e=new eo(s.path);this.Yt(n,e,na.newNoDocument(e,Ys.min()))}else Ds(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Wl.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Ro(i).toUint8Array()}catch(e){if(e instanceof xo)return xs("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Zl(a,s,o)}catch(e){return xs(e instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Na(i.target)){const t=new eo(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,na.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=il();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new tu(e,t,this.Wt,this.jt,n);return this.jt=Ya(),this.zt=lu(),this.Wt=new So(Qs),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ou,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Co(Qs),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ts("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ou),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lu(){return new So(eo.comparator)}function uu(){return new So(eo.comparator)}const cu={asc:"ASCENDING",desc:"DESCENDING"},hu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},du={and:"AND",or:"OR"};class fu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pu(e,t){return e.useProto3Json||fo(t)?t:{value:t}}function mu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yu(e,t){return mu(e,t.toTimestamp())}function vu(e){return Ds(!!e),Ys.fromTimestamp(function(e){const t=Do(e);return new Gs(t.seconds,t.nanos)}(e))}function bu(e,t){return function(e){return new Xs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wu(e){const t=Xs.fromString(e);return Ds(zu(t)),t}function Eu(e,t){return bu(e.databaseId,t.path)}function Su(e,t){const n=wu(t);if(n.get(1)!==e.databaseId.projectId)throw new Ps(Rs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ps(Rs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new eo(Tu(n))}function ku(e,t){return bu(e.databaseId,t)}function _u(e){const t=wu(e);return 4===t.length?Xs.emptyPath():Tu(t)}function Cu(e){return new Xs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tu(e){return Ds(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Iu(e,t,n){return{name:Eu(e,t),fields:n.value.mapValue.fields}}function xu(e,t){let n;if(t instanceof Ll)n={update:Iu(e,t.key,t.value)};else if(t instanceof Fl)n={delete:Eu(e,t.key)};else if(t instanceof Rl)n={update:Iu(e,t.key,t.data),updateMask:Uu(t.fieldMask)};else{if(!(t instanceof Vl))return As();n={verify:Eu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof pl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ml)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bl)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw As()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:As()}(e,t.precondition)),n}function Nu(e,t){return{documents:[ku(e,t.path)]}}function Au(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ku(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ku(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Vu(ca.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Mu(e.field),direction:Ru(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=pu(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Du(e){let t=_u(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ds(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Lu(e);return t instanceof ca&&da(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new oa(Fu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,fo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ra(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new ra(n,t)}(n.endAt)),Da(t,i,o,s,a,"F",l,u)}function Lu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fu(e.unaryFilter.field);return ua.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Fu(e.unaryFilter.field);return ua.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fu(e.unaryFilter.field);return ua.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fu(e.unaryFilter.field);return ua.create(i,"!=",{nullValue:"NULL_VALUE"});default:return As()}}(e):void 0!==e.fieldFilter?function(e){return ua.create(Fu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return As()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ca.create(e.compositeFilter.filters.map((e=>Lu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return As()}}(e.compositeFilter.op))}(e):As()}function Ru(e){return cu[e]}function Pu(e){return hu[e]}function Ou(e){return du[e]}function Mu(e){return{fieldPath:e.canonicalString()}}function Fu(e){return Zs.fromServerFormat(e.fieldPath)}function Vu(e){return e instanceof ua?function(e){if("=="===e.op){if($o(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NAN"}};if(Yo(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($o(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NAN"}};if(Yo(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(e.field),op:Pu(e.op),value:e.value}}}(e):e instanceof ca?function(e){const t=e.getFilters().map((e=>Vu(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ou(e.op),filters:t}}}(e):As()}function Uu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function zu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ys.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ys.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:No.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ju{constructor(e){this.fe=e}}function qu(e){const t=Du({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ua(t,t.limit,"L"):t}class Hu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Lo(e.integerValue));else if("doubleValue"in e){const n=Lo(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),po(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ro(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Zo(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):As()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),eo.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Hu.Ve=new Hu;class Ku{constructor(){this.rn=new Qu}addToCollectionParentIndex(e,t){return this.rn.add(t),uo.resolve()}getCollectionParents(e,t){return uo.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return uo.resolve()}deleteFieldIndex(e,t){return uo.resolve()}getDocumentsMatchingTarget(e,t){return uo.resolve(null)}getIndexType(e,t){return uo.resolve(0)}getFieldIndexes(e,t){return uo.resolve([])}getNextCollectionGroupToUpdate(e){return uo.resolve(null)}getMinOffset(e,t){return uo.resolve(io.min())}getMinOffsetFromCollectionGroup(e,t){return uo.resolve(io.min())}updateCollectionGroup(e,t,n){return uo.resolve()}updateIndexEntries(e,t){return uo.resolve()}}class Qu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Co(Xs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Co(Xs.comparator)).toArray()}}new Uint8Array(0);class Wu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Wu(e,Wu.DEFAULT_COLLECTION_PERCENTILE,Wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Wu.DEFAULT_COLLECTION_PERCENTILE=10,Wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wu.DEFAULT=new Wu(41943040,Wu.DEFAULT_COLLECTION_PERCENTILE,Wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wu.DISABLED=new Wu(-1,0,0);class Gu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Gu(0)}static Mn(){return new Gu(-1)}}class Yu{constructor(){this.changes=new Wa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,na.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?uo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $u{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Nl(n.mutation,e,Io.empty(),Gs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,il()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:il();const r=Za();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Xa();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Za();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,il())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ya();const s=tl(),o=tl();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Rl)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Nl(o.mutation,t,o.mutation.getFieldMask(),Gs.now())):s.set(t.key,Io.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new $u(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=tl();let r=new So(((e,t)=>e-t)),i=il();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Io.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||il()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=el();l.forEach((e=>{if(!i.has(e)){const r=Il(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return uo.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return eo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ma(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):uo.resolve(Za());let o=-1,a=i;return s.next((t=>uo.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?uo.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,il()))).next((e=>({batchId:o,changes:Ja(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new eo(t)).next((e=>{let t=Xa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Xa();return this.indexManager.getCollectionParents(e,r).next((s=>uo.forEach(s,(s=>{const o=function(e,t){return new Aa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,na.newInvalidDocument(r)))}));let n=Xa();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&Nl(s.mutation,i,Io.empty(),Gs.now()),qa(t,i)&&(n=n.insert(e,i))})),n}))}}class Ju{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return uo.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:vu(n.createTime)}),uo.resolve()}getNamedQuery(e,t){return uo.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:qu(e.bundledQuery),readTime:vu(e.readTime)}}(t)),uo.resolve()}}class Zu{constructor(){this.overlays=new So(eo.comparator),this.ls=new Map}getOverlay(e,t){return uo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Za();return uo.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),uo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),uo.resolve()}getOverlaysForCollection(e,t,n){const r=Za(),i=t.length+1,s=new eo(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return uo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new So(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Za(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Za(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return uo.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Bl(t,n));let i=this.ls.get(t);void 0===i&&(i=il(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class ec{constructor(){this.fs=new Co(tc.ds),this.ws=new Co(tc._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new tc(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new tc(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new eo(new Xs([])),n=new tc(t,e),r=new tc(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new eo(new Xs([])),n=new tc(t,e),r=new tc(t,e+1);let i=il();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new tc(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class tc{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return eo.comparator(e.key,t.key)||Qs(e.As,t.As)}static _s(e,t){return Qs(e.As,t.As)||eo.comparator(e.key,t.key)}}class nc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Co(tc.ds)}checkEmpty(e){return uo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ul(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new tc(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return uo.resolve(s)}lookupMutationBatch(e,t){return uo.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return uo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return uo.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return uo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new tc(t,0),r=new tc(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),uo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Co(Qs);return t.forEach((e=>{const t=new tc(e,0),r=new tc(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),uo.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;eo.isDocumentKey(i)||(i=i.child(""));const s=new tc(new eo(i),0);let o=new Co(Qs);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),s),uo.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ds(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return uo.forEach(t.mutations,(r=>{const i=new tc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new tc(t,0),r=this.Rs.firstAfterOrEqual(n);return uo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,uo.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rc{constructor(e){this.Ds=e,this.docs=new So(eo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return uo.resolve(n?n.document.mutableCopy():na.newInvalidDocument(t))}getEntries(e,t){let n=Ya();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():na.newInvalidDocument(e))})),uo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ya();const s=t.path,o=new eo(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||so(ro(o),n)<=0||(r.has(o.key)||qa(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return uo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){As()}Cs(e,t){return uo.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ic(this)}getSize(e){return uo.resolve(this.size)}}class ic extends Yu{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),uo.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class sc{constructor(e){this.persistence=e,this.xs=new Wa((e=>Ia(e)),xa),this.lastRemoteSnapshotVersion=Ys.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ec,this.targetCount=0,this.Ms=Gu.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),uo.resolve()}getLastRemoteSnapshotVersion(e){return uo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return uo.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),uo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),uo.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Gu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,uo.resolve()}updateTargetData(e,t){return this.Fn(t),uo.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,uo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),uo.waitFor(i).next((()=>r))}getTargetCount(e){return uo.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return uo.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),uo.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),uo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),uo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return uo.resolve(n)}containsKey(e,t){return uo.resolve(this.ks.containsKey(t))}}class oc{constructor(e,t){this.$s={},this.overlays={},this.Os=new ho(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new sc(this),this.indexManager=new Ku,this.remoteDocumentCache=function(e){return new rc(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new ju(t),this.qs=new Ju(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new nc(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Ts("MemoryPersistence","Starting transaction:",e);const r=new ac(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return uo.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class ac extends ao{constructor(e){super(),this.currentSequenceNumber=e}}class lc{constructor(e){this.persistence=e,this.Qs=new ec,this.js=null}static zs(e){return new lc(e)}get Ws(){if(this.js)return this.js;throw As()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),uo.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),uo.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),uo.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uo.forEach(this.Ws,(n=>{const r=eo.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Ys.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return uo.or([()=>uo.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class uc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=il(),r=il();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new uc(e,t.fromCache,n,r)}}class cc{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Ra(t))return uo.resolve(null);let n=Va(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ua(t,null,"F"),n=Va(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=il(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Ua(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return Ra(t)||r.isEqual(Ys.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Cs()<=P.DEBUG&&Ts("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ja(t)),this.Wi(e,s,t,no(r,-1)))}))}ji(e,t){let n=new Co(Ka(e));return t.forEach(((t,r)=>{qa(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Cs()<=P.DEBUG&&Ts("QueryEngine","Using full collection scan to execute query:",ja(t)),this.Ui.getDocumentsMatchingQuery(e,t,io.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class hc{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new So(Qs),this.Yi=new Wa((e=>Ia(e)),xa),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xu(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function dc(e,t,n,r){return new hc(e,t,n,r)}async function fc(e,t){const n=Ls(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=il();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function pc(e){const t=Ls(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function mc(e,t,n){let r=il(),i=il();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ya();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ys.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ts("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function gc(e,t){const n=Ls(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function yc(e,t){const n=Ls(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,uo.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Bu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function vc(e,t,n){const r=Ls(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!co(e))throw e;Ts("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function bc(e,t,n){const r=Ls(e);let i=Ys.min(),s=il();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Ls(e),i=r.Yi.get(n);return void 0!==i?uo.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Va(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Ys.min(),n?s:il()))).next((e=>(wc(r,Ha(t),e),{documents:e,ir:s})))))}function wc(e,t,n){let r=e.Xi.get(t)||Ys.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class Ec{constructor(){this.activeTargetIds=ol()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sc{constructor(){this.Hr=new Ec,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ec,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kc{Yr(e){}shutdown(){}}class _c{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ts("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ts("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cc=null;function Tc(){return null===Cc?Cc=268435456+Math.round(2147483648*Math.random()):Cc++,"0x"+Cc.toString(16)}const Ic={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xc{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Nc="WebChannelConnection";class Ac extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=Tc(),o=this.To(e,t);Ts("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then((t=>(Ts("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw xs("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ks,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Ic[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Tc();return new Promise(((s,o)=>{const a=new vs;a.setWithCredentials(!0),a.listenOnce(fs.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ds.NO_ERROR:const t=a.getResponseJson();Ts(Nc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case ds.TIMEOUT:Ts(Nc,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Ps(Rs.DEADLINE_EXCEEDED,"Request time out"));break;case ds.HTTP_ERROR:const n=a.getStatus();if(Ts(Nc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rs).indexOf(t)>=0?t:Rs.UNKNOWN}(t.status);o(new Ps(e,t.message))}else o(new Ps(Rs.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ps(Rs.UNAVAILABLE,"Connection failed."));break;default:As()}}finally{Ts(Nc,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ts(Nc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=Tc(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cs(),o=hs(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new gs({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Ts(Nc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new xc({ro:t=>{d?Ts(Nc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ts(Nc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Ts(Nc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,ys.EventType.OPEN,(()=>{d||Ts(Nc,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,ys.EventType.CLOSE,(()=>{d||(d=!0,Ts(Nc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(c,ys.EventType.ERROR,(t=>{d||(d=!0,xs(Nc,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Ps(Rs.UNAVAILABLE,"The operation could not be completed")))})),p(c,ys.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Ds(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ts(Nc,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=ql[e];if(void 0!==t)return Ql(t)}(t),i=o.message;void 0===n&&(n=Rs.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new Ps(n,i)),c.close()}else Ts(Nc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(o,ps.STAT_EVENT,(t=>{t.stat===ms.PROXY?Ts(Nc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ms.NOPROXY&&Ts(Nc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Dc(){return"undefined"!=typeof document?document:null}function Lc(e){return new fu(e,!0)}class Rc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Ts("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Pc{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Rc(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Rs.RESOURCE_EXHAUSTED?(Is(t.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Rs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Ps(Rs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Ts("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Ts("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Oc extends Pc{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:As()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Ds(void 0===t||"string"==typeof t),No.fromBase64String(t||"")):(Ds(void 0===t||t instanceof Uint8Array),No.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Rs.UNKNOWN:Ql(e.code);return new Ps(t,e.message||"")}(o);n=new su(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Su(e,r.document.name),s=vu(r.document.updateTime),o=r.document.createTime?vu(r.document.createTime):Ys.min(),a=new ea({mapValue:{fields:r.document.fields}}),l=na.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ru(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Su(e,r.document),s=r.readTime?vu(r.readTime):Ys.min(),o=na.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ru([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Su(e,r.document),s=r.removedTargetIds||[];n=new ru([],s,i,null)}else{if(!("filter"in t))return As();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new jl(r,i),o=e.targetId;n=new iu(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ys.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ys.min():t.readTime?vu(t.readTime):Ys.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Cu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Na(r)?{documents:Nu(e,r)}:{query:Au(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=gu(e,t.resumeToken);const r=pu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ys.min())>0){n.readTime=mu(e,t.snapshotVersion.toTimestamp());const r=pu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return As()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Cu(this.serializer),t.removeTarget=e,this.Wo(t)}}class Mc extends Pc{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ds(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Ds(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?vu(e.updateTime):vu(t);return n.isEqual(Ys.min())&&(n=vu(t)),new kl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=vu(e.commitTime);return this.listener.cu(n,t)}return Ds(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cu(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>xu(this.serializer,e)))};this.Wo(t)}}class Fc extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ps(Rs.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ps(Rs.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ps(Rs.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Vc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Is(t),this.mu=!1):Ts("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Uc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Gc(this)&&(Ts("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ls(e);t.vu.add(4),await Bc(t),t.bu.set("Unknown"),t.vu.delete(4),await zc(t)}(this))}))})),this.bu=new Vc(n,r)}}async function zc(e){if(Gc(e))for(const t of e.Ru)await t(!0)}async function Bc(e){for(const t of e.Ru)await t(!1)}function jc(e,t){const n=Ls(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Wc(n)?Qc(n):dh(n).Ko()&&Hc(n,t))}function qc(e,t){const n=Ls(e),r=dh(n);n.Au.delete(t),r.Ko()&&Kc(n,t),0===n.Au.size&&(r.Ko()?r.jo():Gc(n)&&n.bu.set("Unknown"))}function Hc(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ys.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dh(e).su(t)}function Kc(e,t){e.Vu.qt(t),dh(e).iu(t)}function Qc(e){e.Vu=new au({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),dh(e).start(),e.bu.gu()}function Wc(e){return Gc(e)&&!dh(e).Uo()&&e.Au.size>0}function Gc(e){return 0===Ls(e).vu.size}function Yc(e){e.Vu=void 0}async function $c(e){e.Au.forEach(((t,n)=>{Hc(e,t)}))}async function Xc(e,t){Yc(e),Wc(e)?(e.bu.Iu(t),Qc(e)):e.bu.set("Unknown")}async function Jc(e,t,n){if(e.bu.set("Online"),t instanceof su&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Ts("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zc(e,n)}else if(t instanceof ru?e.Vu.Ht(t):t instanceof iu?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Ys.min()))try{const t=await pc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(No.EMPTY_BYTE_STRING,r.snapshotVersion)),Kc(e,t);const i=new Bu(r.target,t,n,r.sequenceNumber);Hc(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ts("RemoteStore","Failed to raise snapshot:",t),await Zc(e,t)}}async function Zc(e,t,n){if(!co(t))throw t;e.vu.add(1),await Bc(e),e.bu.set("Offline"),n||(n=()=>pc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ts("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await zc(e)}))}function eh(e,t){return t().catch((n=>Zc(e,n,t)))}async function th(e){const t=Ls(e),n=fh(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;nh(t);)try{const e=await gc(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,rh(t,e)}catch(e){await Zc(t,e)}ih(t)&&sh(t)}function nh(e){return Gc(e)&&e.Eu.length<10}function rh(e,t){e.Eu.push(t);const n=fh(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function ih(e){return Gc(e)&&!fh(e).Uo()&&e.Eu.length>0}function sh(e){fh(e).start()}async function oh(e){fh(e).hu()}async function ah(e){const t=fh(e);for(const n of e.Eu)t.uu(n.mutations)}async function lh(e,t,n){const r=e.Eu.shift(),i=zl.from(r,t,n);await eh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await th(e)}async function uh(e,t){t&&fh(e).ou&&await async function(e,t){if(Kl(n=t.code)&&n!==Rs.ABORTED){const n=e.Eu.shift();fh(e).Qo(),await eh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await th(e)}var n}(e,t),ih(e)&&sh(e)}async function ch(e,t){const n=Ls(e);n.asyncQueue.verifyOperationInProgress(),Ts("RemoteStore","RemoteStore received new credentials");const r=Gc(n);n.vu.add(3),await Bc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await zc(n)}async function hh(e,t){const n=Ls(e);t?(n.vu.delete(2),await zc(n)):t||(n.vu.add(2),await Bc(n),n.bu.set("Unknown"))}function dh(e){return e.Su||(e.Su=function(e,t,n){const r=Ls(e);return r.fu(),new Oc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:$c.bind(null,e),ao:Xc.bind(null,e),nu:Jc.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Wc(e)?Qc(e):e.bu.set("Unknown")):(await e.Su.stop(),Yc(e))}))),e.Su}function fh(e){return e.Du||(e.Du=function(e,t,n){const r=Ls(e);return r.fu(),new Mc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:oh.bind(null,e),ao:uh.bind(null,e),au:ah.bind(null,e),cu:lh.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await th(e)):(await e.Du.stop(),e.Eu.length>0&&(Ts("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class ph{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ph(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ps(Rs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mh(e,t){if(Is("AsyncQueue","".concat(t,": ").concat(e)),co(e))return new Ps(Rs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class gh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||eo.comparator(t.key,n.key):(e,t)=>eo.comparator(e.key,t.key),this.keyedMap=Xa(),this.sortedSet=new So(this.comparator)}static emptySet(e){return new gh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new gh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class yh{constructor(){this.Cu=new So(eo.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):As():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class vh{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new vh(e,t,gh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class bh{constructor(){this.Nu=void 0,this.listeners=[]}}class wh{constructor(){this.queries=new Wa((e=>Ba(e)),za),this.onlineState="Unknown",this.ku=new Set}}async function Eh(e,t){const n=Ls(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bh),i)try{s.Nu=await n.onListen(r)}catch(e){const n=mh(e,"Initialization of query '".concat(ja(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Ch(n)}async function Sh(e,t){const n=Ls(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function kh(e,t){const n=Ls(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Ch(n)}function _h(e,t,n){const r=Ls(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Ch(e){e.ku.forEach((e=>{e.next()}))}class Th{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new vh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ih{constructor(e){this.key=e}}class xh{constructor(e){this.key=e}}class Nh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=il(),this.mutatedKeys=il(),this.tc=Ka(e),this.ec=new gh(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new yh,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=qa(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return As()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new vh(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new yh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=il(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new xh(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Ih(n))})),t}hc(e){this.Yu=e.ir,this.Zu=il();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return vh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ah{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Dh{constructor(e){this.key=e,this.fc=!1}}class Lh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Wa((e=>Ba(e)),za),this._c=new Map,this.mc=new Set,this.gc=new So(eo.comparator),this.yc=new Map,this.Ic=new ec,this.Tc={},this.Ec=new Map,this.Ac=Gu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Rh(e,t){const n=Xh(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await yc(n.localStore,Va(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Ph(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&jc(n.remoteStore,e)}return i}async function Ph(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await bc(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Kh(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await bc(e.localStore,t,!0),o=new Nh(t,s.ir),a=o.sc(s.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Kh(e,n,u.cc);const c=new Ah(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function Oh(e,t){const n=Ls(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!za(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),qc(n.remoteStore,r.targetId),qh(n,r.targetId)})).catch(lo)):(qh(n,r.targetId),await vc(n.localStore,r.targetId,!0))}async function Mh(e,t){const n=Ls(e);try{const e=await function(e,t){const n=Ls(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(No.EMPTY_BYTE_STRING,Ys.min()).withLastLimboFreeSnapshotVersion(Ys.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Bs.updateTargetData(e,u))}));let a=Ya(),l=il();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(mc(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(Ys.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return uo.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(Ds(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Ds(r.fc):e.removedDocuments.size>0&&(Ds(r.fc),r.fc=!1))})),await Gh(n,e,t)}catch(e){await lo(e)}}function Fh(e,t,n){const r=Ls(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ls(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&Ch(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Vh(e,t,n){const r=Ls(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new So(eo.comparator);e=e.insert(s,na.newNoDocument(s,Ys.min()));const n=il().add(s),i=new tu(Ys.min(),new Map,new So(Qs),e,n);await Mh(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),Wh(r)}else await vc(r.localStore,t,!1).then((()=>qh(r,t,n))).catch(lo)}async function Uh(e,t){const n=Ls(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ls(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=uo.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ds(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=il();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);jh(n,r,null),Bh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gh(n,e)}catch(e){await lo(e)}}async function zh(e,t,n){const r=Ls(e);try{const e=await function(e,t){const n=Ls(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ds(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);jh(r,t,n),Bh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gh(r,e)}catch(n){await lo(n)}}function Bh(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function jh(e,t,n){const r=Ls(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function qh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Hh(e,t)}))}function Hh(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(qc(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Wh(e))}function Kh(e,t,n){for(const r of n)r instanceof Ih?(e.Ic.addReference(r.key,t),Qh(e,r)):r instanceof xh?(Ts("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Hh(e,r.key)):As()}function Qh(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Ts("SyncEngine","New document in limbo: "+n),e.mc.add(r),Wh(e))}function Wh(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new eo(Xs.fromString(t)),r=e.Ac.next();e.yc.set(r,new Dh(n)),e.gc=e.gc.insert(n,r),jc(e.remoteStore,new Bu(Va(La(n.path)),r,"TargetPurposeLimboResolution",ho.ct))}}async function Gh(e,t,n){const r=Ls(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=uc.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=Ls(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>uo.forEach(t,(t=>uo.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>uo.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!co(e))throw e;Ts("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Yh(e,t){const n=Ls(e);if(!n.currentUser.isEqual(t)){Ts("SyncEngine","User change. New user:",t.toKey());const e=await fc(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Ps(Rs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Gh(n,e.er)}}function $h(e,t){const n=Ls(e),r=n.yc.get(t);if(r&&r.fc)return il().add(r.key);{let e=il();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Xh(e){const t=Ls(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$h.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vh.bind(null,t),t.dc.nu=kh.bind(null,t.eventManager),t.dc.Pc=_h.bind(null,t.eventManager),t}function Jh(e){const t=Ls(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Uh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zh.bind(null,t),t}class Zh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return dc(this.persistence,new cc,e.initialUser,this.serializer)}createPersistence(e){return new oc(lc.zs,this.serializer)}createSharedClientState(e){return new Sc}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ed{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Fh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yh.bind(null,this.syncEngine),await hh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wh}createDatastore(e){const t=Lc(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Ac(r));var r;return function(e,t,n,r){return new Fc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Fh(this.syncEngine,e,0),s=_c.D()?new _c:new kc,new Uc(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Lh(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ls(e);Ts("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Bc(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class td{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class nd{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ss.UNAUTHENTICATED,this.clientId=Ks.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ts("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ts("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ps(Rs.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=mh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function rd(e,t){e.asyncQueue.verifyOperationInProgress(),Ts("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await fc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function id(e,t){e.asyncQueue.verifyOperationInProgress();const n=await od(e);Ts("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>ch(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ch(t.remoteStore,n))),e._onlineComponents=t}function sd(e){return"FirebaseError"===e.name?e.code===Rs.FAILED_PRECONDITION||e.code===Rs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function od(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ts("FirestoreClient","Using user provided OfflineComponentProvider");try{await rd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!sd(n))throw n;xs("Error using user provided cache. Falling back to memory cache: "+n),await rd(e,new Zh)}}else Ts("FirestoreClient","Using default OfflineComponentProvider"),await rd(e,new Zh);return e._offlineComponents}async function ad(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ts("FirestoreClient","Using user provided OnlineComponentProvider"),await id(e,e._uninitializedComponentsProvider._online)):(Ts("FirestoreClient","Using default OnlineComponentProvider"),await id(e,new ed))),e._onlineComponents}function ld(e){return ad(e).then((e=>e.syncEngine))}async function ud(e){const t=await ad(e),n=t.eventManager;return n.onListen=Rh.bind(null,t.syncEngine),n.onUnlisten=Oh.bind(null,t.syncEngine),n}function cd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hd=new Map;function dd(e,t,n){if(!n)throw new Ps(Rs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fd(e){if(!eo.isDocumentKey(e))throw new Ps(Rs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function pd(e){if(eo.isDocumentKey(e))throw new Ps(Rs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function md(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":As()}function gd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ps(Rs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(e);throw new Ps(Rs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class yd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ps(Rs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ps(Rs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ps(Rs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ps(Rs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ps(Rs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ps(Rs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class vd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ps(Rs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ps(Rs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fs;switch(e.type){case"firstParty":return new Bs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ps(Rs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hd.get(e);t&&(Ts("ComponentProvider","Removing Datastore"),hd.delete(e),t.terminate())}(this),Promise.resolve()}}function bd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=gd(e,vd))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ss.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[m(JSON.stringify({alg:"none",type:"JWT"})),m(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ps(Rs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ss(s)}e._authCredentials=new Vs(new Ms(t,n))}}class wd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wd(this.firestore,e,this._key)}}class Ed{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ed(this.firestore,e,this._query)}}class Sd extends Ed{constructor(e,t,n){super(e,t,La(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wd(this.firestore,null,new eo(e))}withConverter(e){return new Sd(this.firestore,e,this._path)}}function kd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=x(e),dd("collection","path",t),e instanceof vd){const n=Xs.fromString(t,...r);return pd(n),new Sd(e,null,n)}{if(!(e instanceof wd||e instanceof Sd))throw new Ps(Rs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xs.fromString(t,...r));return pd(n),new Sd(e.firestore,null,n)}}function _d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=x(e),1===arguments.length&&(t=Ks.A()),dd("doc","path",t),e instanceof vd){const n=Xs.fromString(t,...r);return fd(n),new wd(e,null,new eo(n))}{if(!(e instanceof wd||e instanceof Sd))throw new Ps(Rs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xs.fromString(t,...r));return fd(n),new wd(e.firestore,e instanceof Sd?e.converter:null,new eo(n))}}class Cd{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Rc(this,"async_queue_retry"),this.Xc=()=>{const e=Dc();e&&Ts("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Dc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Dc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Os;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!co(e))throw e;Ts("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Is("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=ph.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&As()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Td(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Id extends vd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Cd,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nd(this),this._firestoreClient.terminate()}}function xd(e){return e._firestoreClient||Nd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Nd(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Fo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,cd(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new nd(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ad{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ad(No.fromBase64String(e))}catch(e){throw new Ps(Rs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ad(No.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ps(Rs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._methodName=e}}class Rd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ps(Rs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ps(Rs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qs(this._lat,e._lat)||Qs(this._long,e._long)}}const Pd=/^__.*__$/;class Od{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Rl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ll(e,this.data,t,this.fieldTransforms)}}class Md{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Rl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw As()}}class Vd{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return tf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Fd(this.ca)&&Pd.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ud{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Lc(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vd({ca:e,methodName:t,ga:n,path:Zs.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(e){const t=e._freezeSettings(),n=Lc(e._databaseId);return new Ud(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bd(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Xd("Data must be an object, but it was:",o,r);const a=Yd(r,o);let l,u;if(s.merge)l=new Io(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Jd(t,r,n);if(!o.contains(i))throw new Ps(Rs.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));nf(e,i)||e.push(i)}l=new Io(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Od(new ea(a),l,u)}class jd extends Ld{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function qd(e,t,n){return new Vd({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Hd extends Ld{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=qd(this,e,!0),n=this.pa.map((e=>Gd(e,t))),r=new ml(n);return new Sl(e.path,r)}isEqual(e){return this===e}}class Kd extends Ld{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=qd(this,e,!0),n=this.pa.map((e=>Gd(e,t))),r=new yl(n);return new Sl(e.path,r)}isEqual(e){return this===e}}function Qd(e,t,n,r){const i=e.ya(1,t,n);Xd("Data must be an object, but it was:",i,r);const s=[],o=ea.empty();wo(r,((e,r)=>{const a=ef(t,e,n);r=x(r);const l=i.da(a);if(r instanceof jd)s.push(a);else{const e=Gd(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Io(s);return new Md(o,a,i.fieldTransforms)}function Wd(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[Jd(t,r,n)],l=[i];if(s.length%2!=0)throw new Ps(Rs.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Jd(t,s[d])),l.push(s[d+1]);const u=[],c=ea.empty();for(let d=a.length-1;d>=0;--d)if(!nf(u,a[d])){const e=a[d];let t=l[d];t=x(t);const n=o.da(e);if(t instanceof jd)u.push(e);else{const r=Gd(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Io(u);return new Md(c,h,o.fieldTransforms)}function Gd(e,t){if($d(e=x(e)))return Xd("Unsupported field value:",t,e),Yd(e,t);if(e instanceof Ld)return function(e,t){if(!Fd(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Gd(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=x(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ul(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Gs.fromDate(e);return{timestampValue:mu(t.serializer,n)}}if(e instanceof Gs){const n=new Gs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mu(t.serializer,n)}}if(e instanceof Rd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ad)return{bytesValue:gu(t.serializer,e._byteString)};if(e instanceof wd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:bu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(md(e)))}(e,t)}function Yd(e,t){const n={};return Eo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wo(e,((e,r)=>{const i=Gd(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $d(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gs||e instanceof Rd||e instanceof Ad||e instanceof wd||e instanceof Ld)}function Xd(e,t,n){if(!$d(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=md(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Jd(e,t,n){if((t=x(t))instanceof Dd)return t._internalPath;if("string"==typeof t)return ef(e,t);throw tf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Zd=new RegExp("[~\\*/\\[\\]]");function ef(e,t,n){if(t.search(Zd)>=0)throw tf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Dd(...t.split("."))._internalPath}catch(r){throw tf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tf(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Ps(Rs.INVALID_ARGUMENT,a+e+l)}function nf(e,t){return e.some((e=>e.isEqual(t)))}class rf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(of("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sf extends rf{data(){return super.data()}}function of(e,t){return"string"==typeof t?ef(e,t):t instanceof Dd?t._internalPath:t._delegate._internalPath}function af(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ps(Rs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw As()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Rd(Lo(e.latitude),Lo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Oo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mo(e));default:return null}}convertTimestamp(e){const t=Do(e);return new Gs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xs.fromString(e);Ds(zu(n));const r=new Vo(n.get(1),n.get(3)),i=new eo(n.popFirst(5));return r.isEqual(t)||Is("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function uf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hf extends rf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(of("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class df extends hf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ff{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new df(this._firestore,this._userDataWriter,n.key,n,new cf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ps(Rs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new df(e._firestore,e._userDataWriter,n.doc.key,n.doc,new cf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new df(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:pf(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function pf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return As()}}class mf extends lf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ad(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wd(this.firestore,null,t)}}function gf(e,t,n){e=gd(e,wd);const r=gd(e.firestore,Id),i=zd(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=x(t))||t instanceof Dd?Wd(i,"updateDoc",e._key,t,n,a):Qd(i,"updateDoc",e._key,t),vf(r,[s.toMutation(e._key,_l.exists(!0))])}function yf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=x(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Td(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges};if(Td(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,d;if(e instanceof wd)h=gd(e.firestore,Id),d=La(e._key.path),c={next:t=>{n[l]&&n[l](bf(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=gd(e,Ed);h=gd(t.firestore,Id),d=t._query;const r=new mf(h);c={next:e=>{n[l]&&n[l](new ff(h,r,t,e))},error:n[l+1],complete:n[l+2]},af(e._query)}return function(e,t,n,r){const i=new td(r),s=new Th(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Eh(await ud(e),s))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>Sh(await ud(e),s)))}}(xd(h),d,u,c)}function vf(e,t){return function(e,t){const n=new Os;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Jh(e);try{const e=await function(e,t){const n=Ls(e),r=Gs.now(),i=t.reduce(((e,t)=>e.add(t.key)),il());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ya(),l=il();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Al(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Rl(e.key,t,ta(t.value.mapValue),_l.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Ja(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new So(Qs)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Gh(r,e.changes),await th(r.remoteStore)}catch(e){const t=mh(e,"Failed to persist write");n.reject(t)}}(await ld(e),t,n))),n.promise}(xd(e),t)}function bf(e,t,n){const r=n.docs.get(t._key),i=new mf(e);return new hf(e,i,t._key,r,new cf(n.hasPendingWrites,n.fromCache),t.converter)}function wf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hd("arrayUnion",t)}function Ef(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kd("arrayRemove",t)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ks=e}("9.23.0"),Me(new N("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Id(new Us(e.getProvider("auth-internal")),new qs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ps(Rs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Be(Es,"3.13.0",e),Be(Es,"3.13.0","esm2017")}();const Sf=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;const t=Re.get(e);if(!t&&e===De&&w())return ze();if(!t)throw Ve.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Fe(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=b("firestore");e&&bd(i,...e)}return i}(ze({apiKey:"AIzaSyCmn0WUjdKE6CqZ8g17zJJ9G7b7PYchsPc",authDomain:"photoalbum-8409b.firebaseapp.com",projectId:"photoalbum-8409b",storageBucket:"photoalbum-8409b.appspot.com",messagingSenderId:"759017016387",appId:"1:759017016387:web:2030feb168d2b8f615d8f6"}));function kf(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=kf(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const _f=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=kf(e))&&(r&&(r+=" "),r+=t);return r},Cf=e=>"number"==typeof e&&!isNaN(e),Tf=e=>"string"==typeof e,If=e=>"function"==typeof e,xf=e=>Tf(e)||If(e)?e:null,Nf=e=>(0,r.isValidElement)(e)||Tf(e)||If(e)||Cf(e);function Af(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:s=!0,collapseDuration:o=300}=e;return function(e){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:d}=e;const f=i?"".concat(t,"--").concat(l):t,p=i?"".concat(n,"--").concat(l):n,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{const e=h.current,t=f.split(" "),n=r=>{r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,c,o):c()};d||(u?t():(m.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[d]),r.createElement(r.Fragment,null,a)}}function Df(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Lf={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},Rf=e=>{let{theme:t,type:n,...i}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")"),...i})},Pf={info:function(e){return r.createElement(Rf,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(Rf,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(Rf,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(Rf,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function Of(e){const[,t]=(0,r.useReducer)((e=>e+1),0),[n,i]=(0,r.useState)([]),s=(0,r.useRef)(null),o=(0,r.useRef)(new Map).current,a=e=>-1!==n.indexOf(e),l=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:e=>o.get(e)}).current;function u(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function c(e){i((t=>null==e?[]:t.filter((t=>t!==e))))}function h(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();f(e,t,n)}function d(e,n){let{delay:i,staleId:a,...u}=n;if(!Nf(e)||function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||o.has(e.toastId)&&null==e.updateId}(u))return;const{toastId:d,updateId:p,data:m}=u,{props:g}=l,y=()=>c(d),v=null==p;v&&l.count++;const b={...g,style:g.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(u).filter((e=>{let[t,n]=e;return null!=n}))),toastId:d,updateId:p,data:m,closeToast:y,isIn:!1,className:xf(u.className||g.toastClassName),bodyClassName:xf(u.bodyClassName||g.bodyClassName),progressClassName:xf(u.progressClassName||g.progressClassName),autoClose:!u.isLoading&&(w=u.autoClose,E=g.autoClose,!1===w||Cf(w)&&w>0?w:E),deleteToast(){const e=Df(o.get(d),"removed");o.delete(d),Lf.emit(4,e);const n=l.queue.length;if(l.count=null==d?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),n>0){const e=null==d?l.props.limit:1;if(1===n||1===e)l.displayedToast++,h();else{const t=e>n?n:e;l.displayedToast=t;for(let e=0;e<t;e++)h()}}else t()}};var w,E;b.iconOut=function(e){let{theme:t,type:n,isLoading:i,icon:s}=e,o=null;const a={theme:t,type:n};return!1===s||(If(s)?o=s(a):(0,r.isValidElement)(s)?o=(0,r.cloneElement)(s,a):Tf(s)||Cf(s)?o=s:i?o=Pf.spinner():(e=>e in Pf)(n)&&(o=Pf[n](a))),o}(b),If(u.onOpen)&&(b.onOpen=u.onOpen),If(u.onClose)&&(b.onClose=u.onClose),b.closeButton=g.closeButton,!1===u.closeButton||Nf(u.closeButton)?b.closeButton=u.closeButton:!0===u.closeButton&&(b.closeButton=!Nf(g.closeButton)||g.closeButton);let S=e;(0,r.isValidElement)(e)&&!Tf(e.type)?S=(0,r.cloneElement)(e,{closeToast:y,toastProps:b,data:m}):If(e)&&(S=e({closeToast:y,toastProps:b,data:m})),g.limit&&g.limit>0&&l.count>g.limit&&v?l.queue.push({toastContent:S,toastProps:b,staleId:a}):Cf(i)?setTimeout((()=>{f(S,b,a)}),i):f(S,b,a)}function f(e,t,n){const{toastId:r}=t;n&&o.delete(n);const s={content:e,props:t};o.set(r,s),i((e=>[...e,r].filter((e=>e!==n)))),Lf.emit(4,Df(s,null==s.props.updateId?"added":"updated"))}return(0,r.useEffect)((()=>(l.containerId=e.containerId,Lf.cancelEmit(3).on(0,d).on(1,(e=>s.current&&c(e))).on(5,u).emit(2,l),()=>{o.clear(),Lf.emit(3,l)})),[]),(0,r.useEffect)((()=>{l.props=e,l.isToastActive=a,l.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(o.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:s,isToastActive:a}}function Mf(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Ff(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Vf(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Uf(e){let{delay:t,isRunning:n,closeToast:i,type:s="default",hide:o,className:a,style:l,controlledProgress:u,progress:c,rtl:h,isIn:d,theme:f}=e;const p=o||u&&0===c,m={...l,animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:p?0:1};u&&(m.transform="scaleX(".concat(c,")"));const g=_f("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":h}),y=If(a)?a({rtl:h,type:s,defaultClassName:g}):_f(g,a);return r.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:m,[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{d&&i()}})}const zf=e=>{const{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:s}=function(e){const[t,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),o=(0,r.useRef)(null),a=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,r.useRef)(e),{autoClose:u,pauseOnHover:c,closeToast:h,onClick:d,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),document.addEventListener("touchmove",v),document.addEventListener("touchend",b);const n=o.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=Mf(t.nativeEvent),a.y=Ff(t.nativeEvent),"x"===e.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(a.boundingRect){const{top:n,bottom:r,left:i,right:s}=a.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&a.x>=i&&a.x<=s&&a.y>=n&&a.y<=r?y():g()}}function g(){n(!0)}function y(){n(!1)}function v(n){const r=o.current;a.canDrag&&r&&(a.didMove=!0,t&&y(),a.x=Mf(n),a.y=Ff(n),a.delta="x"===e.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(a.delta,"px)"),r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function b(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",b);const t=o.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,r.useEffect)((()=>{l.current=e})),(0,r.useEffect)((()=>(o.current&&o.current.addEventListener("d",g,{once:!0}),If(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;If(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)})),[]),(0,r.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",y))})),[e.pauseOnFocusLoss]);const w={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return u&&c&&(w.onMouseEnter=y,w.onMouseLeave=g),f&&(w.onClick=e=>{d&&d(e),a.canCloseOnClick&&h()}),{playToast:g,pauseToast:y,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:w}}(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:h,closeToast:d,transition:f,position:p,className:m,style:g,bodyClassName:y,bodyStyle:v,progressClassName:b,progressStyle:w,updateId:E,role:S,progress:k,rtl:_,toastId:C,deleteToast:T,isIn:I,isLoading:x,iconOut:N,closeOnClick:A,theme:D}=e,L=_f("Toastify__toast","Toastify__toast-theme--".concat(D),"Toastify__toast--".concat(c),{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":A}),R=If(m)?m({rtl:_,position:p,type:c,defaultClassName:L}):_f(L,m),P=!!k||!l,O={closeToast:d,type:c,theme:D};let M=null;return!1===o||(M=If(o)?o(O):(0,r.isValidElement)(o)?(0,r.cloneElement)(o,O):Vf(O)),r.createElement(f,{isIn:I,done:T,position:p,preventExitTransition:n,nodeRef:i},r.createElement("div",{id:C,onClick:u,className:R,...s,style:g,ref:i},r.createElement("div",{...I&&{role:S},className:If(y)?y({type:c}):_f("Toastify__toast-body",y),style:v},null!=N&&r.createElement("div",{className:_f("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},N),r.createElement("div",null,a)),M,r.createElement(Uf,{...E&&!P?{key:"pb-".concat(E)}:{},rtl:_,theme:D,delay:l,isRunning:t,isIn:I,closeToast:d,hide:h,type:c,style:w,className:b,controlledProgress:P,progress:k||0})))},Bf=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},jf=Af(Bf("bounce",!0)),qf=(Af(Bf("slide",!0)),Af(Bf("zoom")),Af(Bf("flip")),(0,r.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:i,isToastActive:s}=Of(e),{className:o,style:a,rtl:l,containerId:u}=e;function c(e){const t=_f("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":l});return If(o)?o({position:e,rtl:l,defaultClassName:t}):_f(t,xf(o))}return(0,r.useEffect)((()=>{t&&(t.current=i.current)}),[]),r.createElement("div",{ref:i,className:"Toastify",id:u},n(((e,t)=>{const n=t.length?{...a}:{...a,pointerEvents:"none"};return r.createElement("div",{className:c(e),style:n,key:"container-".concat(e)},t.map(((e,n)=>{let{content:i,props:o}=e;return r.createElement(zf,{...o,isIn:s(o.toastId),style:{...o.style,"--nth":n+1,"--len":t.length},key:"toast-".concat(o.key)},i)})))})))})));qf.displayName="ToastContainer",qf.defaultProps={position:"top-right",transition:jf,autoClose:5e3,closeButton:Vf,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Hf,Kf=new Map,Qf=[],Wf=1;function Gf(){return""+Wf++}function Yf(e){return e&&(Tf(e.toastId)||Cf(e.toastId))?e.toastId:Gf()}function $f(e,t){return Kf.size>0?Lf.emit(0,e,t):Qf.push({content:e,options:t}),t.toastId}function Xf(e,t){return{...t,type:t&&t.type||e,toastId:Yf(t)}}function Jf(e){return(t,n)=>$f(t,Xf(e,n))}function Zf(e,t){return $f(e,Xf("default",t))}function ep(){const e=(0,r.useRef)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(qf,{}),(0,o.jsxs)("div",{className:"formContainer",children:[(0,o.jsx)("h1",{children:"Create an Album"}),(0,o.jsxs)("form",{onSubmit:async function(t){t.preventDefault(),await function(e,t){const n=gd(e.firestore,Id),r=_d(e),i=uf(e.converter,t);return vf(n,[Bd(zd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_l.exists(!1))]).then((()=>r))}(kd(Sf,"album"),{Albumname:e.current.value,imageList:[]}),Zf.success("New Album added!."),e.current.value="",e.current.focus()},children:[(0,o.jsx)("input",{type:"text",placeholder:"Name",ref:e,required:!0,className:h.input}),(0,o.jsx)("button",{className:"".concat(h.formBtn," ").concat(h.clearBtn),onClick:function(t){t.preventDefault(),e.current.value="",e.current.focus()},children:"Clear"}),(0,o.jsx)("button",{className:"".concat(h.formBtn," ").concat(h.addBtn),children:"Add"})]})]})]})}Zf.loading=(e,t)=>$f(e,Xf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Zf.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=Tf(i)?Zf.loading(i,n):Zf.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void Zf.dismiss(r);const s={type:e,...a,...n,data:i},o=Tf(t)?{render:t}:t;return r?Zf.update(r,{...s,...o}):Zf(o.render,{...s,...o}),i},u=If(e)?e():e;return u.then((e=>l("success",o,e))).catch((e=>l("error",s,e))),u},Zf.success=Jf("success"),Zf.info=Jf("info"),Zf.error=Jf("error"),Zf.warning=Jf("warning"),Zf.warn=Zf.warning,Zf.dark=(e,t)=>$f(e,Xf("default",{theme:"dark",...t})),Zf.dismiss=e=>{Kf.size>0?Lf.emit(1,e):Qf=Qf.filter((t=>null!=e&&t.options.toastId!==e))},Zf.clearWaitingQueue=function(e){return void 0===e&&(e={}),Lf.emit(5,e)},Zf.isActive=e=>{let t=!1;return Kf.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Zf.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=Kf.get(n||Hf);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Gf()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,$f(o,s)}}),0)},Zf.done=e=>{Zf.update(e,{progress:1})},Zf.onChange=e=>(Lf.on(4,e),()=>{Lf.off(4,e)}),Zf.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Zf.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Lf.on(2,(e=>{Hf=e.containerId||e,Kf.set(Hf,e),Qf.forEach((e=>{Lf.emit(0,e.content,e.options)})),Qf=[]})).on(3,(e=>{Kf.delete(e.containerId||e),0===Kf.size&&Lf.off(0).off(1).off(5)}));const tp={inputBox:"imageForm_inputBox__O-66V",btn:"imageForm_btn__KAmyG",add:"imageForm_add__7EzjS",clear:"imageForm_clear__UHSkP"};function np(e){const{albumId:t,updateImage:n,setUpdateImage:i,setShowImageForm:s}=e,a=(0,r.useRef)(),l=(0,r.useRef)();function u(){a.current.value=null,l.current.value=null,a.current.focus()}return(0,r.useEffect)((()=>{n&&(a.current.value=n.name,l.current.value=n.link)}),[n]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(qf,{}),(0,o.jsxs)("div",{className:"formContainer",children:[(0,o.jsx)("h1",{children:n?"Update Image":"Add an Image"}),(0,o.jsxs)("form",{onSubmit:n?async function(e){e.preventDefault();const r={name:n.name,link:n.link},o={name:a.current.value,link:l.current.value},c=_d(Sf,"album",t);gf(c,{imageList:wf(o)}),gf(c,{imageList:Ef(r)}),Zf.success(" Image Updated !"),i(null),s(!1),u()}:async function(e){e.preventDefault();const n={name:a.current.value,link:l.current.value},r=_d(Sf,"album",t);await gf(r,{imageList:wf(n)}),Zf.success("New Image Added to your Album!"),u()},children:[(0,o.jsx)("input",{type:"text",className:tp.inputBox,placeholder:"Enter Name",ref:a,required:!0}),(0,o.jsx)("input",{type:"text",className:tp.inputBox,placeholder:"Enter Url",ref:l,required:!0}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{className:"".concat(tp.btn," ").concat(tp.add),children:n?"Update":"Add"}),(0,o.jsx)("button",{className:"".concat(tp.btn," ").concat(tp.clear),onClick:u,children:"Clear"})]})]})]})}const rp={imageCard:"image_imageCard__biv2M",imageBox:"image_imageBox__lThvJ",imageInfo:"image_imageInfo__Di5HD",imageBtn:"image_imageBtn__-jktA",deleteBtn:"image_deleteBtn__f1-jp",editBtn:"image_editBtn__u0vW9"};function ip(e){const{image:t,index:n,handleImageEdit:r,handleImageDelete:i,openLightbox:s}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:rp.imageCard,children:[(0,o.jsx)("div",{className:rp.imageBox,children:(0,o.jsx)("img",{src:t.link,alt:"image",onClick:()=>s(n)})}),(0,o.jsxs)("div",{className:rp.imageInfo,children:[t.name,(0,o.jsx)("button",{className:"".concat(rp.imageBtn," ").concat(rp.editBtn),onClick:()=>r(t),children:"Edit"}),(0,o.jsx)("button",{className:"".concat(rp.imageBtn," ").concat(rp.deleteBtn),onClick:()=>i(t),children:"X"})]})]})})}const sp={btnContainer:"imageList_btnContainer__dCdGr",btn:"imageList_btn__UclGC",backBtn:"imageList_backBtn__+vh-h",addBtn:"imageList_addBtn__cWTp+",imageList:"imageList_imageList__FVYbu"};function op(e){const{openAlbum:t,setOpenAlbum:n}=e,[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),[u,c]=(0,r.useState)([]),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(0);async function y(e){const n=_d(Sf,"album",t.albumId);await gf(n,{imageList:Ef(e)}),Zf.success("Image Successfully Deleted from your Album!")}function v(e){l(e),s(!0)}(0,r.useEffect)((()=>{yf(_d(Sf,"album",t.albumId),(e=>{const t=e.data().imageList;c(t)}))}),[]);const b=e=>{g(e),p(!0)},w=()=>{p(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(qf,{}),(0,o.jsxs)("div",{className:sp.btnContainer,children:[(0,o.jsx)("button",{className:"".concat(sp.btn," ").concat(sp.backBtn),onClick:function(e){e.preventDefault(),n({albumId:"",show:!1})},children:"Back"}),(0,o.jsx)("input",{type:"text",placeholder:"Search Image...",onChange:e=>d(e.target.value)}),(0,o.jsx)("button",{className:"".concat(sp.btn," ").concat(sp.addBtn),onClick:()=>s(!i),children:i?"Cancel":"Add Image"})]}),(0,o.jsxs)("div",{style:{textAlign:"center"},children:[i&&(0,o.jsx)(np,{albumId:t.albumId,updateImage:a,setUpdateImage:l,setShowImageForm:s}),(0,o.jsx)("h1",{style:{color:"#001055",textTransform:"capitalize"},children:0!==u.length?"Your Collection":"No Images in Your Collection"})]}),(0,o.jsx)("div",{className:sp.imageList,children:u.filter((e=>""===h.toLocaleLowerCase()?e:e.name.toLocaleLowerCase().includes(h))).map(((e,t)=>(0,o.jsx)(ip,{image:e,index:t,handleImageEdit:v,handleImageDelete:y,openLightbox:b},t)))}),f&&(0,o.jsx)("div",{className:"lightbox-overlay",onClick:w,children:(0,o.jsxs)("div",{className:"lightbox-container",children:[(0,o.jsx)("button",{className:"close-button",onClick:w,children:"Close"}),(0,o.jsx)("img",{className:"lightbox-image",src:u[m].link,alt:"Image ".concat(m)})]})})]})}function ap(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)({albumId:"",open:!1});return(0,r.useEffect)((()=>{yf(kd(Sf,"album"),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));console.log(n),t(n)}))}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:l.mainContainer,children:s.open?(0,o.jsx)(op,{openAlbum:s,setOpenAlbum:a}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:l.albumForm,children:n&&(0,o.jsx)(ep,{})}),(0,o.jsxs)("div",{className:l.header,children:[(0,o.jsx)("span",{children:"Your Albums"}),(0,o.jsx)("button",{className:l.btn,onClick:()=>i(!n),children:n?"Cancel":"Create Album"})]}),(0,o.jsx)("div",{className:l.albumContainer,children:e.map(((e,t)=>(0,o.jsx)(c,{info:e,setOpenAlbum:a},t)))})]})})})}const lp=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{}),(0,o.jsx)(ap,{})]})};i.createRoot(document.getElementById("root")).render((0,o.jsx)(r.StrictMode,{children:(0,o.jsx)(lp,{})}))})();
//# sourceMappingURL=main.8f9a64a9.js.map